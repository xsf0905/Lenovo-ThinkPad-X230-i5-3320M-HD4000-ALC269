/*
 jQuery UI - v1.10.4 - 2014-06-14
 http://jqueryui.com
 Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.sortable.js
 Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
'use strict';(function(d,n){function l(a,c){var f,h,k,p=a.nodeName.toLowerCase();return"area"===p?(f=a.parentNode,h=f.name,a.href&&h&&"map"===f.nodeName.toLowerCase()?(k=d("img[usemap=#"+h+"]")[0],!!k&&b(k)):!1):(/input|select|textarea|button|object/.test(p)?!a.disabled:"a"===p?a.href||c:c)&&b(a)}function b(a){return d.expr.filters.visible(a)&&!d(a).parents().addBack().filter(function(){return"hidden"===d.css(this,"visibility")}).length}var g=0,e=/^ui-id-\d+$/;d.ui=d.ui||{};d.extend(d.ui,{version:"1.10.4",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});d.fn.extend({focus:function(a){return function(c,f){return"number"==typeof c?this.each(function(){var h=this;setTimeout(function(){d(h).focus();f&&f.call(h)},c)}):a.apply(this,arguments)}}(d.fn.focus),scrollParent:function(){var a;return a=
d.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.css(this,"position"))&&/(auto|scroll)/.test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?d(document):a},zIndex:function(a){if(a!==
n)return this.css("zIndex",a);if(this.length){var c,f;for(a=d(this[0]);a.length&&a[0]!==document;){if(c=a.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(f=parseInt(a.css("zIndex"),10),!isNaN(f)&&0!==f))return f;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&d(this).removeAttr("id")})}});d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(a){return function(c){return!!d.data(c,
a)}}):function(a,c,f){return!!d.data(a,f[3])},focusable:function(a){return l(a,!isNaN(d.attr(a,"tabindex")))},tabbable:function(a){var c=d.attr(a,"tabindex"),f=isNaN(c);return(f||0<=c)&&l(a,!f)}});d("<a>").outerWidth(1).jquery||d.each(["Width","Height"],function(a,c){function f(m,q,r,u){return d.each(h,function(){q-=parseFloat(d.css(m,"padding"+this))||0;r&&(q-=parseFloat(d.css(m,"border"+this+"Width"))||0);u&&(q-=parseFloat(d.css(m,"margin"+this))||0)}),q}var h="Width"===c?["Left","Right"]:["Top",
"Bottom"],k=c.toLowerCase(),p={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+c]=function(m){return m===n?p["inner"+c].call(this):this.each(function(){d(this).css(k,f(this,m)+"px")})};d.fn["outer"+c]=function(m,q){return"number"!=typeof m?p["outer"+c].call(this,m):this.each(function(){d(this).css(k,f(this,m,!0,q)+"px")})}});d.fn.addBack||(d.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
d("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(d.fn.removeData=function(a){return function(c){return arguments.length?a.call(this,d.camelCase(c)):a.call(this)}}(d.fn.removeData));d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());d.support.selectstart="onselectstart"in document.createElement("div");d.fn.extend({disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
d.extend(d.ui,{plugin:{add:function(a,c,f){var h;a=d.ui[a].prototype;for(h in f)a.plugins[h]=a.plugins[h]||[],a.plugins[h].push([c,f[h]])},call:function(a,c,f){var h=a.plugins[c];if(h&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(c=0;h.length>c;c++)a.options[h[c][0]]&&h[c][1].apply(a.element,f)}},hasScroll:function(a,c){if("hidden"===d(a).css("overflow"))return!1;c=c&&"left"===c?"scrollLeft":"scrollTop";var f=!1;return 0<a[c]?!0:(a[c]=1,f=0<a[c],a[c]=0,f)}})})(jQuery);
(function(d,n){var l=0,b=Array.prototype.slice,g=d.cleanData;d.cleanData=function(e){for(var a,c=0;null!=(a=e[c]);c++)try{d(a).triggerHandler("remove")}catch(f){}g(e)};d.widget=function(e,a,c){var f={},h=e.split(".")[0];e=e.split(".")[1];var k=h+"-"+e;c||(c=a,a=d.Widget);d.expr[":"][k.toLowerCase()]=function(r){return!!d.data(r,k)};d[h]=d[h]||{};var p=d[h][e];var m=d[h][e]=function(r,u){return this._createWidget?(arguments.length&&this._createWidget(r,u),n):new m(r,u)};d.extend(m,p,{version:c.version,
_proto:d.extend({},c),_childConstructors:[]});var q=new a;q.options=d.widget.extend({},q.options);d.each(c,function(r,u){return d.isFunction(u)?(f[r]=function(){var t=function(){return a.prototype[r].apply(this,arguments)},x=function(v){return a.prototype[r].apply(this,v)};return function(){var v,w=this._super,y=this._superApply;return this._super=t,this._superApply=x,v=u.apply(this,arguments),this._super=w,this._superApply=y,v}}(),n):(f[r]=u,n)});m.prototype=d.widget.extend(q,{widgetEventPrefix:p?
q.widgetEventPrefix||e:e},f,{constructor:m,namespace:h,widgetName:e,widgetFullName:k});p?(d.each(p._childConstructors,function(r,u){r=u.prototype;d.widget(r.namespace+"."+r.widgetName,m,u._proto)}),delete p._childConstructors):a._childConstructors.push(m);d.widget.bridge(e,m)};d.widget.extend=function(e){for(var a,c,f=b.call(arguments,1),h=0,k=f.length;k>h;h++)for(a in f[h])c=f[h][a],f[h].hasOwnProperty(a)&&c!==n&&(e[a]=d.isPlainObject(c)?d.isPlainObject(e[a])?d.widget.extend({},e[a],c):d.widget.extend({},
c):c);return e};d.widget.bridge=function(e,a){var c=a.prototype.widgetFullName||e;d.fn[e]=function(f){var h="string"==typeof f,k=b.call(arguments,1),p=this;return f=!h&&k.length?d.widget.extend.apply(null,[f].concat(k)):f,h?this.each(function(){var m,q=d.data(this,c);return q?d.isFunction(q[f])&&"_"!==f.charAt(0)?(m=q[f].apply(q,k),m!==q&&m!==n?(p=m&&m.jquery?p.pushStack(m.get()):m,!1):n):d.error("no such method '"+f+"' for "+e+" widget instance"):d.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+
f+"'")}):this.each(function(){var m=d.data(this,c);m?m.option(f||{})._init():d.data(this,c,new a(f,this))}),p}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,a){a=d(a||this.defaultElement||this)[0];this.element=d(a);this.uuid=l++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=d.widget.extend({},this.options,this._getCreateOptions(),e);
this.bindings=d();this.hoverable=d();this.focusable=d();a!==this&&(d.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===a&&this.destroy()}}),this.document=d(a.style?a.ownerDocument:a.document||a),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(e,a){var c,f,h=e;if(0===
arguments.length)return d.widget.extend({},this.options);if("string"==typeof e)if(h={},c=e.split("."),e=c.shift(),c.length){var k=h[e]=d.widget.extend({},this.options[e]);for(f=0;c.length-1>f;f++)k[c[f]]=k[c[f]]||{},k=k[c[f]];if(e=c.pop(),1===arguments.length)return k[e]===n?null:k[e];k[e]=a}else{if(1===arguments.length)return this.options[e]===n?null:this.options[e];h[e]=a}return this._setOptions(h),this},_setOptions:function(e){for(var a in e)this._setOption(a,e[a]);return this},_setOption:function(e,
a){return this.options[e]=a,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!a).attr("aria-disabled",a),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,a,c){var f,h=this;"boolean"!=typeof e&&(c=a,a=e,e=!1);c?(a=f=d(a),this.bindings=this.bindings.add(a)):(c=a,a=this.element,f=
this.widget());d.each(c,function(k,p){function m(){return e||!0!==h.options.disabled&&!d(this).hasClass("ui-state-disabled")?("string"==typeof p?h[p]:p).apply(h,arguments):n}"string"!=typeof p&&(m.guid=p.guid=p.guid||m.guid||d.guid++);var q=k.match(/^(\w+)\s*(.*)$/);k=q[1]+h.eventNamespace;(q=q[2])?f.delegate(q,k,m):a.bind(k,m)})},_off:function(e,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(a).undelegate(a)},_delay:function(e,a){var c=this;return setTimeout(function(){return("string"==
typeof e?c[e]:e).apply(c,arguments)},a||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(a){d(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){d(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(a){d(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){d(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,a,c){var f,
h=this.options[e];if(c=c||{},a=d.Event(a),a.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),a.target=this.element[0],e=a.originalEvent)for(f in e)f in a||(a[f]=e[f]);return this.element.trigger(a,c),!(d.isFunction(h)&&!1===h.apply(this.element[0],[a].concat(c))||a.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(e,a){d.Widget.prototype["_"+e]=function(c,f,h){"string"==typeof f&&(f={effect:f});var k=f?!0===f||"number"==typeof f?a:f.effect||a:e;f=f||
{};"number"==typeof f&&(f={duration:f});var p=!d.isEmptyObject(f);f.complete=h;f.delay&&c.delay(f.delay);p&&d.effects&&d.effects.effect[k]?c[e](f):k!==e&&c[k]?c[k](f.duration,f.easing,h):c.queue(function(m){d(this)[e]();h&&h.call(c[0]);m()})}})})(jQuery);
(function(d){var n=!1;d(document).mouseup(function(){n=!1});d.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var l=this;this.element.bind("mousedown."+this.widgetName,function(b){return l._mouseDown(b)}).bind("click."+this.widgetName,function(b){return!0===d.data(b.target,l.widgetName+".preventClickEvent")?(d.removeData(b.target,l.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(l){if(!n){this._mouseStarted&&this._mouseUp(l);this._mouseDownEvent=l;var b=this,g=1===l.which,e="string"==typeof this.options.cancel&&l.target.nodeName?d(l.target).closest(this.options.cancel).length:!1;return g&&!e&&this._mouseCapture(l)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(l)&&this._mouseDelayMet(l)&&(this._mouseStarted=!1!==this._mouseStart(l),!this._mouseStarted)?(l.preventDefault(),!0):(!0===d.data(l.target,this.widgetName+".preventClickEvent")&&d.removeData(l.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return b._mouseMove(a)},this._mouseUpDelegate=function(a){return b._mouseUp(a)},
d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),l.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(l){return d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!l.button?this._mouseUp(l):this._mouseStarted?(this._mouseDrag(l),l.preventDefault()):(this._mouseDistanceMet(l)&&this._mouseDelayMet(l)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,l),this._mouseStarted?this._mouseDrag(l):this._mouseUp(l)),
!this._mouseStarted)},_mouseUp:function(l){return d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,l.target===this._mouseDownEvent.target&&d.data(l.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(l)),!1},_mouseDistanceMet:function(l){return Math.max(Math.abs(this._mouseDownEvent.pageX-l.pageX),Math.abs(this._mouseDownEvent.pageY-l.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(d){function n(b,g,e){return b>g&&g+e>b}function l(b){return/left|right/.test(b.css("float"))||/inline|table-cell/.test(b.css("display"))}d.widget("ui.sortable",d.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===b.axis||l(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,g){"disabled"===b?(this.options[b]=g,this.widget().toggleClass("ui-sortable-disabled",!!g)):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,g){var e=null,a=!1,c=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),d(b.target).parents().each(function(){return d.data(this,
c.widgetName+"-item")===c?(e=d(this),!1):void 0}),d.data(b.target,c.widgetName+"-item")===c&&(e=d(b.target)),e?!this.options.handle||g||(d(this.options.handle,e).find("*").addBack().each(function(){this===b.target&&(a=!0)}),a)?(this.currentItem=e,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(b,g,e){var a;g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",g.cursor),this.storedStylesheet=d("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(a)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return d.ui.ddmanager&&
(d.ui.ddmanager.current=this),d.ui.ddmanager&&!g.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var g,e,a;var c=this.options;var f=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
f=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-d(document).scrollTop()<c.scrollSensitivity?f=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed):d(window).height()-(b.pageY-d(document).scrollTop())<c.scrollSensitivity&&(f=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed)),b.pageX-d(document).scrollLeft()<c.scrollSensitivity?f=d(document).scrollLeft(d(document).scrollLeft()-c.scrollSpeed):d(window).width()-(b.pageX-d(document).scrollLeft())<c.scrollSensitivity&&(f=d(document).scrollLeft(d(document).scrollLeft()+
c.scrollSpeed))),!1!==f&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--)if(g=this.items[c],e=g.item[0],a=this._intersectsWithPointer(g),a&&g.instance===this.currentContainer&&e!==this.currentItem[0]&&
this.placeholder[1===a?"next":"prev"]()[0]!==e&&!d.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],e):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(g))break;this._rearrange(b,g);this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),d.ui.ddmanager&&d.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,
g){if(b){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,b),this.options.revert){var e=this;g=this.placeholder.offset();var a=this.options.axis,c={};a&&"x"!==a||(c.left=g.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));a&&"y"!==a||(c.top=g.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;d(this.helper).animate(c,parseInt(this.options.revert,
10)||500,function(){e._clear(b)})}else this._clear(b,g);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=
0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var g=this._getItemsAsjQuery(b&&b.connected),e=[];return b=
b||{},d(g).each(function(){var a=(d(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);a&&e.push((b.key||a[1]+"[]")+"="+(b.key&&b.expression?a[1]:a[2]))}),!e.length&&b.key&&e.push(b.key+"="),e.join("&")},toArray:function(b){var g=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},g.each(function(){e.push(d(b.item||this).attr(b.attribute||"id")||"")}),e},_intersectsWith:function(b){var g=this.positionAbs.left,e=g+this.helperProportions.width,a=this.positionAbs.top,
c=a+this.helperProportions.height,f=b.left,h=f+b.width,k=b.top,p=k+b.height,m=this.offset.click.top,q=this.offset.click.left;m="x"===this.options.axis||a+m>k&&p>a+m;q="y"===this.options.axis||g+q>f&&h>g+q;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?m&&q:g+this.helperProportions.width/2>f&&h>e-this.helperProportions.width/2&&a+this.helperProportions.height/
2>k&&p>c-this.helperProportions.height/2},_intersectsWithPointer:function(b){var g="x"===this.options.axis||n(this.positionAbs.top+this.offset.click.top,b.top,b.height);b="y"===this.options.axis||n(this.positionAbs.left+this.offset.click.left,b.left,b.width);g=g&&b;b=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return g?this.floating?e&&"right"===e||"down"===b?2:1:b&&("down"===b?2:1):!1},_intersectsWithSides:function(b){var g=n(this.positionAbs.top+this.offset.click.top,
b.top+b.height/2,b.height);b=n(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var e=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&b||"left"===a&&!b:e&&("down"===e&&g||"up"===e&&!g)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return 0!==b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!==b&&(0<b?
"right":"left")},refresh:function(b){return this._refreshItems(b),this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor===String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){function g(){c.push(this)}var e,a,c=[],f=[],h=this._connectWith();if(h&&b)for(b=h.length-1;0<=b;b--){var k=d(h[b]);for(e=k.length-1;0<=e;e--)(a=d.data(k[e],this.widgetFullName))&&a!==this&&!a.options.disabled&&f.push([d.isFunction(a.options.items)?a.options.items.call(a.element):
d(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}f.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=f.length-1;0<=b;b--)f[b][0].each(g);return d(c)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,
function(g){for(var e=0;b.length>e;e++)if(b[e]===g.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var g,e,a,c,f=this.items,h=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):d(this.options.items,this.element),this]];if((c=this._connectWith())&&this.ready)for(g=c.length-1;0<=g;g--){var k=d(c[g]);for(e=k.length-1;0<=e;e--)(a=d.data(k[e],this.widgetFullName))&&a!==this&&!a.options.disabled&&(h.push([d.isFunction(a.options.items)?
a.options.items.call(a.element[0],b,{item:this.currentItem}):d(a.options.items,a.element),a]),this.containers.push(a))}for(g=h.length-1;0<=g;g--)for(b=h[g][1],k=h[g][0],e=0,c=k.length;c>e;e++)a=d(k[e]),a.data(this.widgetName+"-item",b),f.push({item:a,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var g,e,a;for(g=this.items.length-1;0<=g;g--){var c=this.items[g];c.instance!==this.currentContainer&&
this.currentContainer&&c.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?d(this.options.toleranceElement,c.item):c.item,b||(c.width=e.outerWidth(),c.height=e.outerHeight()),a=e.offset(),c.left=a.left,c.top=a.top)}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(g=this.containers.length-1;0<=g;g--)a=this.containers[g].element.offset(),this.containers[g].containerCache.left=a.left,this.containers[g].containerCache.top=
a.top,this.containers[g].containerCache.width=this.containers[g].element.outerWidth(),this.containers[g].containerCache.height=this.containers[g].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var g,e=b.options;e.placeholder&&e.placeholder.constructor!==String||(g=e.placeholder,e.placeholder={element:function(){var a=b.currentItem[0].nodeName.toLowerCase(),c=d("<"+a+">",b.document[0]).addClass(g||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");
return"tr"===a?b.currentItem.children().each(function(){d("<td>&#160;</td>",b.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(c)}):"img"===a&&c.attr("src",b.currentItem.attr("src")),g||c.css("visibility","hidden"),c},update:function(a,c){(!g||e.forcePlaceholderSize)&&(c.height()||c.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),c.width()||c.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||
0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}});b.placeholder=d(e.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);e.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var g,e,a,c,f,h=e=null;for(g=this.containers.length-1;0<=g;g--)d.contains(this.currentItem[0],this.containers[g].element[0])||(this._intersectsWith(this.containers[g].containerCache)?e&&d.contains(this.containers[g].element[0],e.element[0])||(e=this.containers[g],h=
g):this.containers[g].containerCache.over&&(this.containers[g]._trigger("out",b,this._uiHash(this)),this.containers[g].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",b,this._uiHash(this)),this.containers[h].containerCache.over=1);else{g=1E4;var k=null;var p=(f=e.floating||l(this.currentItem))?"left":"top";var m=f?"width":"height";var q=this.positionAbs[p]+this.offset.click[p];for(e=this.items.length-1;0<=e;e--)d.contains(this.containers[h].element[0],
this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(!f||n(this.positionAbs.top+this.offset.click.top,this.items[e].top,this.items[e].height))&&(a=this.items[e].item.offset()[p],c=!1,Math.abs(a-q)>Math.abs(a+this.items[e][m]-q)&&(c=!0,a+=this.items[e][m]),g>Math.abs(a-q)&&(g=Math.abs(a-q),k=this.items[e],this.direction=c?"up":"down"));(k||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[h]&&(k?this._rearrange(b,k,null,!0):this._rearrange(b,null,this.containers[h].element,
!0),this._trigger("change",b,this._uiHash()),this.containers[h]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",b,this._uiHash(this)),this.containers[h].containerCache.over=1)}},_createHelper:function(b){var g=this.options;b=d.isFunction(g.helper)?d(g.helper.apply(this.element[0],[b,this.currentItem])):"clone"===g.helper?this.currentItem.clone():this.currentItem;
return b.parents("body").length||d("parent"!==g.appendTo?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||g.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||g.forceHelperSize)&&b.height(this.currentItem.height()),
b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));d.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();
var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,g,e,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode);"document"!==a.containment&&"window"!==a.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"===a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"===a.containment?document:
window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(a.containment)||(b=d(a.containment)[0],g=d(a.containment).offset(),e="hidden"!==d(b).css("overflow"),this.containment=[g.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,g.left+(e?Math.max(b.scrollWidth,
b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,g.top+(e?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,g){g||(g=this.position);b="absolute"===b?1:-1;var e="absolute"!==this.cssPosition||this.scrollParent[0]!==
document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(e[0].tagName);return{top:g.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:e.scrollTop())*b,left:g.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:e.scrollLeft())*b}},_generatePosition:function(b){var g,e,a=this.options,c=b.pageX,f=b.pageY,
h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(c=this.containment[0]+this.offset.click.left),b.pageY-
this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(c=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top)),a.grid&&(g=this.originalPageY+Math.round((f-this.originalPageY)/a.grid[1])*a.grid[1],f=this.containment?g-this.offset.click.top>=this.containment[1]&&g-this.offset.click.top<=this.containment[3]?g:g-this.offset.click.top>=
this.containment[1]?g-a.grid[1]:g+a.grid[1]:g,e=this.originalPageX+Math.round((c-this.originalPageX)/a.grid[0])*a.grid[0],c=this.containment?e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-a.grid[0]:e+a.grid[0]:e)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:h.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:h.scrollLeft())}},_rearrange:function(b,g,e,a){e?e[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?g.item[0]:g.item[0].nextSibling);var c=this.counter=this.counter?++this.counter:1;this._delay(function(){c===this.counter&&this.refreshPositions(!a)})},_clear:function(b,g){function e(f,h,k){return function(p){k._trigger(f,p,h._uiHash(h))}}this.reverting=
!1;var a,c=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(a in this._storedCSS)"auto"!==this._storedCSS[a]&&"static"!==this._storedCSS[a]||(this._storedCSS[a]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!g&&c.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside))});!this.fromOutside&&
this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||g||c.push(function(f){this._trigger("update",f,this._uiHash())});this!==this.currentContainer&&(g||(c.push(function(f){this._trigger("remove",f,this._uiHash())}),c.push(function(f){return function(h){f._trigger("receive",h,this._uiHash(this))}}.call(this,this.currentContainer)),c.push(function(f){return function(h){f._trigger("update",h,this._uiHash(this))}}.call(this,
this.currentContainer))));for(a=this.containers.length-1;0<=a;a--)g||c.push(e("deactivate",this,this.containers[a])),this.containers[a].containerCache.over&&(c.push(e("out",this,this.containers[a])),this.containers[a].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),
this.dragging=!1,this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",b,this._uiHash());for(a=0;c.length>a;a++)c[a].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}if(g||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!g){for(a=0;c.length>a;a++)c[a].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=
!1,!0},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var g=b||this;return{helper:g.helper,placeholder:g.placeholder||d([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:b?b.element:null}}})})(jQuery);/*
 jquery.event.drag - v 2.2
 Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 Open Source MIT License - http://threedubmedia.com/code/license
*/
(function(d){d.fn.drag=function(a,c,f){var h="string"==typeof a?a:"",k=d.isFunction(a)?a:d.isFunction(c)?c:null;0!==h.indexOf("drag")&&(h="drag"+h);f=(a==k?c:f)||{};return k?this.bind(h,f,k):this.trigger(h)};var n=d.event,l=n.special,b=l.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(a){var c=d.data(this,b.datakey),f=a.data||{};c.related+=1;d.each(b.defaults,function(h,k){void 0!==f[h]&&(c[h]=f[h])})},remove:function(){--d.data(this,
b.datakey).related},setup:function(){if(!d.data(this,b.datakey)){var a=d.extend({related:0},b.defaults);d.data(this,b.datakey,a);n.add(this,"touchstart mousedown",b.init,a);this.attachEvent&&this.attachEvent("ondragstart",b.dontstart)}},teardown:function(){(d.data(this,b.datakey)||{}).related||(d.removeData(this,b.datakey),n.remove(this,"touchstart mousedown",b.init),b.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",b.dontstart))},init:function(a){if(!b.touched){var c=a.data;if(!(0!=
a.which&&0<c.which&&a.which!=c.which||d(a.target).is(c.not)||c.handle&&!d(a.target).closest(c.handle,a.currentTarget).length)){b.touched="touchstart"==a.type?this:null;c.propagates=1;c.mousedown=this;c.interactions=[b.interaction(this,c)];c.target=a.target;c.pageX=a.pageX;c.pageY=a.pageY;c.dragging=null;var f=b.hijack(a,"draginit",c);if(c.propagates&&((f=b.flatten(f))&&f.length&&(c.interactions=[],d.each(f,function(){c.interactions.push(b.interaction(this,c))})),c.propagates=c.interactions.length,
!1!==c.drop&&l.drop&&l.drop.handler(a,c),b.textselect(!1),b.touched?n.add(b.touched,"touchmove touchend",b.handler,c):n.add(document,"mousemove mouseup",b.handler,c),!b.touched||c.live))return!1}}},interaction:function(a,c){c=d(a)[c.relative?"position":"offset"]()||{top:0,left:0};return{drag:a,callback:new b.callback,droppable:[],offset:c}},handler:function(a){var c=a.data;switch(a.type){case !c.dragging&&"touchmove":a.preventDefault();case !c.dragging&&"mousemove":if(Math.pow(a.pageX-c.pageX,2)+
Math.pow(a.pageY-c.pageY,2)<Math.pow(c.distance,2))break;a.target=c.target;b.hijack(a,"dragstart",c);c.propagates&&(c.dragging=!0);case "touchmove":a.preventDefault();case "mousemove":if(c.dragging){b.hijack(a,"drag",c);if(c.propagates){!1!==c.drop&&l.drop&&l.drop.handler(a,c);break}a.type="mouseup"}default:b.touched?n.remove(b.touched,"touchmove touchend",b.handler):n.remove(document,"mousemove mouseup",b.handler),c.dragging&&(!1!==c.drop&&l.drop&&l.drop.handler(a,c),b.hijack(a,"dragend",c)),b.textselect(!0),
!1===c.click&&c.dragging&&d.data(c.mousedown,"suppress.click",(new Date).getTime()+5),c.dragging=b.touched=!1}},hijack:function(a,c,f,h,k){if(f){var p=a.originalEvent,m=a.type,q=c.indexOf("drop")?"drag":"drop",r,u=h||0,t;h=isNaN(h)?f.interactions.length:h;a.type=c;a.originalEvent=null;f.results=[];do if((t=f.interactions[u])&&("dragend"===c||!t.cancelled)){var x=b.properties(a,f,t);t.results=[];d(k||t[q]||f.droppable).each(function(v,w){x.target=w;a.isPropagationStopped=function(){return!1};r=w?n.dispatch.call(w,
a,x):null;!1===r?("drag"==q&&(t.cancelled=!0,--f.propagates),"drop"==c&&(t[q][v]=null)):"dropinit"==c&&t.droppable.push(b.element(r)||w);"dragstart"==c&&(t.proxy=d(b.element(r)||t.drag)[0]);t.results.push(r);delete a.result;if("dropinit"!==c)return r});f.results[u]=b.flatten(t.results);"dropinit"==c&&(t.droppable=b.flatten(t.droppable));"dragstart"!=c||t.cancelled||x.update()}while(++u<h);a.type=m;a.originalEvent=p;return b.flatten(f.results)}},properties:function(a,c,f){var h=f.callback;h.drag=f.drag;
h.proxy=f.proxy||f.drag;h.startX=c.pageX;h.startY=c.pageY;h.deltaX=a.pageX-c.pageX;h.deltaY=a.pageY-c.pageY;h.originalX=f.offset.left;h.originalY=f.offset.top;h.offsetX=h.originalX+h.deltaX;h.offsetY=h.originalY+h.deltaY;h.drop=b.flatten((f.drop||[]).slice());h.available=b.flatten((f.droppable||[]).slice());return h},element:function(a){if(a&&(a.jquery||1==a.nodeType))return a},flatten:function(a){return d.map(a,function(c){return c&&c.jquery?d.makeArray(c):c&&c.length?b.flatten(c):c})},textselect:function(a){d(document)[a?
"unbind":"bind"]("selectstart",b.dontstart).css("MozUserSelect",a?"":"none");document.unselectable=a?"off":"on"},dontstart:function(){return!1},callback:function(){}};b.callback.prototype={update:function(){l.drop&&this.available.length&&d.each(this.available,function(a){l.drop.locate(this,a)})}};var g=n.dispatch;n.dispatch=function(a){if(0<d.data(this,"suppress."+a.type)-(new Date).getTime())d.removeData(this,"suppress."+a.type);else return g.apply(this,arguments)};var e=n.fixHooks.touchstart=n.fixHooks.touchmove=
n.fixHooks.touchend=n.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(a,c){if(c){var f=c.touches&&c.touches[0]||c.changedTouches&&c.changedTouches[0]||null;f&&d.each(e.props,function(h,k){a[k]=f[k]})}return a}};l.draginit=l.dragstart=l.dragend=b})(jQuery);

/*

 (c) 2009-2013 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.2

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
'use strict';(function(e){function f(){var d=!1,y=!1;this.stopPropagation=function(){d=!0};this.isPropagationStopped=function(){return d};this.stopImmediatePropagation=function(){y=!0};this.isImmediatePropagationStopped=function(){return y}}function q(){}function r(){this.title=this.value=null;this.rows=[]}function n(){}function h(){var d=null;this.isActive=function(y){return y?d===y:null!==d};this.activate=function(y){if(y!==d){if(null!==d)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";
if(!y.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!y.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";d=y}};this.deactivate=function(y){if(d!==y)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";d=null};this.commitCurrentEdit=function(){return d?d.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return d?d.cancelCurrentEdit():
!0}}e.extend(!0,window,{Slick:{Event:function(){var d=[];this.subscribe=function(y){d.push(y)};this.unsubscribe=function(y){for(var F=d.length-1;0<=F;F--)d[F]===y&&d.splice(F,1)};this.notify=function(y,F,S){F=F||new f;S=S||this;for(var T,I=0;I<d.length&&!F.isPropagationStopped()&&!F.isImmediatePropagationStopped();I++)T=d[I].call(S,F,y);return T}},EventData:f,EventHandler:function(){var d=[];this.subscribe=function(y,F){d.push({event:y,handler:F});y.subscribe(F);return this};this.unsubscribe=function(y,
F){for(var S=d.length;S--;)if(d[S].event===y&&d[S].handler===F){d.splice(S,1);y.unsubscribe(F);return}return this};this.unsubscribeAll=function(){for(var y=d.length;y--;)d[y].event.unsubscribe(d[y].handler);d=[];return this}},Range:function(d,y,F,S){void 0===F&&void 0===S&&(F=d,S=y);this.fromRow=Math.min(d,F);this.fromCell=Math.min(y,S);this.toRow=Math.max(d,F);this.toCell=Math.max(y,S);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==
this.toRow&&this.fromCell==this.toCell};this.contains=function(T,I){return T>=this.fromRow&&T<=this.toRow&&I>=this.fromCell&&I<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:q,Group:r,GroupTotals:n,EditorLock:h,GlobalEditorLock:new h}});r.prototype=new q;n.prototype=new q})(jQuery);if("undefined"===typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof Slick)throw"slick.core.js not loaded";
(function(e){e.extend(!0,window,{Slick:{Grid:function(r,n,h,d){function y(){za||(za=!0,ma=parseFloat(e.css(aa[0],"width",!0)),D(),u(ca),d.enableTextSelectionOnCells||ea.bind("selectstart.ui",function(a){return e(a.target).is("input,textarea")}),Ob(),N(),K(),H(),Fa(),z(),aa.bind("resize.slickgrid",Fa),ea.bind("scroll",fb),Wa.bind("contextmenu",Sc).bind("click",Tc).delegate(".slick-header-column","mouseenter",Uc).delegate(".slick-header-column","mouseleave",Vc),Aa.bind("scroll",Wc),ub.add(Pb).bind("keydown",
ic).bind("focusin",function(){aa.addClass("is-focused")}).bind("focusout",function(){aa.removeClass("is-focused")}),ja.bind("keydown",ic).bind("click",Xc).bind("dblclick",Yc).bind("contextmenu",Zc).bind("draginit",$c).bind("dragstart",{distance:3},ad).bind("drag",bd).bind("dragend",cd).delegate(".slick-cell","mouseenter",dd).delegate(".slick-cell","mouseleave",ed),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&ja.bind("mousewheel",fd))}function F(a){for(var b=
Ia.length;0<=b;b--)if(Ia[b]===a){Ia[b].destroy&&Ia[b].destroy();Ia.splice(b,1);break}}function S(){for(var a=0,b=0,c=h.length;b<c;b++)a+=h[b].width;a+=f.width;return Math.max(a,ma)+1E3}function T(){for(var a=Ga?ma-f.width:ma,b=0,c=h.length;c--;)b+=h[c].width;return d.fullWidthRows?Math.max(b,a):b}function I(a){var b=Ba;Ba=T();Ba!=b&&(ja.width(Ba),Na.width(Ba),ca.width(S()));Qb=Ba>ma-(Ga?f.width:0);jc.width(Ba+(Ga?f.width:0));(Ba!=b||a)&&Xa()}function u(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect",
"none").bind("selectstart.ui",function(){return!1})}function z(){for(var a=ja[0];(a=a.parentNode)!=document.body&&null!=a;)if(a==ea[0]||a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight){var b=e(a);Oa?Oa=Oa.add(b):Oa=b;b.bind("scroll."+na,kc)}}function N(){function a(){e(this).addClass("ui-state-hover")}function b(){e(this).removeClass("ui-state-hover")}ca.find(".slick-header-column").each(function(){var x=e(this).data("column");x&&w(G.H,{node:this,column:x})});ca.empty();ca.width(S());
Na.find(".slick-headerrow-column").each(function(){var x=e(this).data("column");x&&w(G.T,{node:this,column:x})});Na.empty();for(var c=0;c<h.length;c++){var m=h[c],v=e("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+m.name+"</span>").width(m.width-Pa).attr("id",na+m.id).attr("title",m.toolTip||"").data("column",m).addClass(m.headerCssClass||"").appendTo(ca);if(d.enableColumnReorder||m.sortable)v.on("mouseenter",a).on("mouseleave",b);m.sortable&&(v.addClass("slick-header-sortable"),
v.append("<span class='slick-sort-indicator' />"));w(G.I,{node:v[0],column:m});d.showHeaderRow&&(v=e("<div class='ui-state-default slick-headerrow-column l"+c+" r"+c+"'></div>").data("column",m).appendTo(Na),w(G.U,{node:v[0],column:m}))}vb(oa);U();d.enableColumnReorder&&R()}function K(){ca.click(function(a){if(1==a.which&&(a.metaKey=a.metaKey||a.ctrlKey,!e(a.target).hasClass("slick-resizable-handle"))){var b=e(a.target).closest(".slick-header-column");if(b.length&&(b=b.data("column"),b.sortable&&
C().commitCurrentEdit())){for(var c=null,m=0;m<oa.length;m++)if(oa[m].columnId==b.id){c=oa[m];c.sortAsc=!c.sortAsc;break}a.metaKey&&d.multiColumnSort?c&&oa.splice(m,1):((a.shiftKey||a.metaKey)&&d.multiColumnSort||(oa=[]),c?0==oa.length&&oa.push(c):(c={columnId:b.id,sortAsc:b.defaultSortAsc},oa.push(c)));vb(oa);d.multiColumnSort?w(G.onSort,{multiColumnSort:!0,pa:e.map(oa,function(v){return{sortCol:h[pa[v.columnId]],sortAsc:v.sortAsc}})},a):w(G.onSort,{multiColumnSort:!1,sortCol:b,sortAsc:c.sortAsc},
a)}}})}function R(){ca.filter(":ui-sortable").sortable("destroy");ca.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(a,b){b.placeholder.width(b.helper.outerWidth()-Pa);e(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){e(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(C().commitCurrentEdit()){for(var b=
ca.sortable("toArray"),c=[],m=0;m<b.length;m++)c.push(h[pa[b[m].replace(na,"")]]);lc(c);w(G.onColumnsReordered,{});a.stopPropagation();U()}else e(this).sortable("cancel")}})}function U(){var a,b,c,m,v,x,A;var J=ca.children();J.find(".slick-resizable-handle").remove();J.each(function(L){h[L].resizable&&(void 0===x&&(x=L),A=L)});void 0!==x&&J.each(function(L,P){L<x||d.forceFitColumns&&L>A||(e(P),e("<div class='slick-resizable-handle' />").appendTo(P).bind("dragstart",function(W){if(!C().commitCurrentEdit())return!1;
c=W.pageX;e(this).parent().addClass("slick-header-column-active");var X=W=null;J.each(function(ka,gb){h[ka].a=e(gb).outerWidth()});if(d.forceFitColumns)for(X=W=0,a=L+1;a<J.length;a++)b=h[a],b.resizable&&(null!==X&&(b.maxWidth?X+=b.maxWidth-b.a:X=null),W+=b.a-Math.max(b.minWidth||0,Ja));var E=0,ia=0;for(a=0;a<=L;a++)b=h[a],b.resizable&&(null!==ia&&(b.maxWidth?ia+=b.maxWidth-b.a:ia=null),E+=b.a-Math.max(b.minWidth||0,Ja));null===W&&(W=1E5);null===E&&(E=1E5);null===X&&(X=1E5);null===ia&&(ia=1E5);v=c+
Math.min(W,ia);m=c-Math.min(E,X)}).bind("drag",function(W){var X=Math.min(v,Math.max(m,W.pageX))-c;if(0>X){var E=X;for(a=L;0<=a;a--)b=h[a],b.resizable&&(W=Math.max(b.minWidth||0,Ja),E&&b.a+E<W?(E+=b.a-W,b.width=W):(b.width=b.a+E,E=0));if(d.forceFitColumns)for(E=-X,a=L+1;a<J.length;a++)b=h[a],b.resizable&&(E&&b.maxWidth&&b.maxWidth-b.a<E?(E-=b.maxWidth-b.a,b.width=b.maxWidth):(b.width=b.a+E,E=0))}else{E=X;for(a=L;0<=a;a--)b=h[a],b.resizable&&(E&&b.maxWidth&&b.maxWidth-b.a<E?(E-=b.maxWidth-b.a,b.width=
b.maxWidth):(b.width=b.a+E,E=0));if(d.forceFitColumns)for(E=-X,a=L+1;a<J.length;a++)b=h[a],b.resizable&&(W=Math.max(b.minWidth||0,Ja),E&&b.a+E<W?(E+=b.a-W,b.width=W):(b.width=b.a+E,E=0))}Ha();d.qa&&Xa()}).bind("dragend",function(W){e(this).parent().removeClass("slick-header-column-active");for(a=0;a<J.length;a++){b=h[a];var X=e(J[a]).outerWidth();b.a!==X&&b.rerenderOnResize&&Qa()}I(!0);la();e(W.toElement).one("click",function(E){E.stopImmediatePropagation()});w(G.onColumnsResized,{})}).bind("dblclick",
function(){w(G.onColumnResizerDblClick,{column:h[L]})}))})}function B(a){var b=0;e.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,m){b+=parseFloat(a.css(m))||0});return b}function D(){var a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],b=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var c=e("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(ca);Pa=mc=0;"border-box"!=c.css("box-sizing")&&
"border-box"!=c.css("-moz-box-sizing")&&"border-box"!=c.css("-webkit-box-sizing")&&(e.each(a,function(v,x){Pa+=parseFloat(c.css(x))||0}),e.each(b,function(v,x){mc+=parseFloat(c.css(x))||0}));c.remove();var m=e("<div class='slick-row' />").appendTo(ja);c=e("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(m);Rb=Sb=0;"border-box"!=c.css("box-sizing")&&"border-box"!=c.css("-moz-box-sizing")&&"border-box"!=c.css("-webkit-box-sizing")&&(e.each(a,function(v,x){Rb+=parseFloat(c.css(x))||
0}),e.each(b,function(v,x){Sb+=parseFloat(c.css(x))||0}));m.remove();Ja=Math.max(Pa,Rb)}function H(){Ra=e("<style type='text/css' rel='stylesheet' />").appendTo(e("head"));var a=d.rowHeight-Sb;a=["."+na+" .slick-header-column { left: 1000px; }","."+na+" .slick-top-panel { height:"+d.topPanelHeight+"px; }","."+na+" .grid-inner-top-panel { height:"+d.innerTopPanelHeight+"px; }","."+na+" .slick-headerrow-columns { height:"+d.headerRowHeight+"px; }","."+na+" .slick-cell { height:"+a+"px; text-align:center; vertical-align: middle; }",
"."+na+" .slick-row { height:"+d.rowHeight+"px; line-height:"+a+"px; }"];for(var b=0;b<h.length;b++)a.push("."+na+" .l"+b+" { }"),a.push("."+na+" .r"+b+" { }");Ra[0].styleSheet?Ra[0].styleSheet.cssText=a.join(" "):Ra[0].appendChild(document.createTextNode(a.join(" ")))}function w(a,b,c){c=c||new Slick.EventData;b=b||{};b.grid=G;return a.notify(b,c,G)}function C(){return d.editorLock}function fa(){var a,b=[],c=0,m=0,v,x=Ga?ma-f.width:ma;for(a=0;a<h.length;a++){var A=h[a];b.push(A.width);m+=A.width;
A.resizable&&(c+=A.width-Math.max(A.minWidth,Ja))}for(v=m;m>x&&c;){var J=(m-x)/c;for(a=0;a<h.length&&m>x;a++){A=h[a];var L=b[a];if(!(!A.resizable||L<=A.minWidth||L<=Ja)){A=Math.max(A.minWidth,Ja);var P=Math.floor(J*(L-A))||1;P=Math.min(P,L-A);m-=P;c-=P;b[a]-=P}}if(v<=m)break;v=m}for(v=m;m<x;){c=x/m;for(a=0;a<h.length&&m<x;a++)A=h[a],J=b[a],A=!A.resizable||A.maxWidth<=J?0:Math.min(Math.floor(c*J)-J,A.maxWidth-J||1E6)||1,m+=A,b[a]+=A;if(v>=m)break;v=m}m=!1;for(a=0;a<h.length;a++)h[a].rerenderOnResize&&
h[a].width!=b[a]&&(m=!0),h[a].width=b[a];Ha();I(!0);m&&(Qa(),la())}function Ha(){if(za){for(var a,b=0,c=ca.children(),m=c.length;b<m;b++)a=e(c[b]),a.width()!==h[b].width-Pa&&a.width(h[b].width-Pa);Ob()}}function Xa(){for(var a,b,c=0,m,v=0;v<h.length;v++){m=h[v].width;var x;b=v;if(!Sa){var A=document.styleSheets;for(a=0;a<A.length;a++)if((A[a].ownerNode||A[a].owningElement)==Ra[0]){Sa=A[a];break}if(!Sa)throw Error("Cannot find stylesheet.");Tb=[];Ub=[];A=Sa.cssRules||Sa.rules;for(a=0;a<A.length;a++){var J=
A[a].selectorText;if(x=/\.l\d+/.exec(J))x=parseInt(x[0].substr(2,x[0].length-2),10),Tb[x]=A[a];else if(x=/\.r\d+/.exec(J))x=parseInt(x[0].substr(2,x[0].length-2),10),Ub[x]=A[a]}}a=Tb[b];b=Ub[b];a.style.left=c+"px";b.style.right=Ba-c-m+"px";c+=h[v].width}}function vb(a){oa=a;var b=ca.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");e.each(oa,function(c,m){null==m.sortAsc&&(m.sortAsc=!0);c=pa[m.columnId];
null!=c&&b.eq(c).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(m.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function nc(a,b){Vb=[];for(var c={},m=0;m<b.length;m++)for(var v=b[m].fromRow;v<=b[m].toRow;v++){c[v]||(Vb.push(v),c[v]={});for(var x=b[m].fromCell;x<=b[m].toCell;x++)oc(v,x)&&(c[v][h[x].id]=d.selectedCellCssClass)}pc(d.selectedCellCssClass,c);w(G.onSelectedRowsChanged,{rows:wb()},a)}function Ob(){Ya=[];Za=[];for(var a=0,b=0,c=h.length;b<
c;b++)Ya[b]=a,Za[b]=a+h[b].width,a+=h[b].width}function lc(a){h=a;pa={};for(a=0;a<h.length;a++){var b=h[a]=e.extend({},Wb,h[a]);pa[b.id]=a;b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth);b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth)}Ob();za&&(Qa(),N(),Ra.remove(),Sa=null,H(),Fa(),Xa(),fb())}function qa(){return n.getLength?n.getLength():n.length}function Ka(){return qa()+(d.enableAddRow?1:0)}function Ca(a){return n.getItem?n.getItem(a):n[a]}function xb(a){return Math.floor((a+ha)/d.rowHeight)}
function La(a){a=Math.max(a,0);a=Math.min(a,wa-ba+(Qb?f.height:0));var b=ha;hb=Math.min(ib-1,Math.floor(a/jb));ha=Math.round(hb*yb);a-=ha;if(ha!=b){var c=kb(a);qc(c);for(var m in Q)Q[m].f.style.top=d.rowHeight*m-ha+"px"}$a!=a&&(ab=$a+b<a+ha?1:-1,ea[0].scrollTop=zb=da=$a=a,w(G.onViewportChanged,{}))}function Ab(a,b){var c=(a=n.getItemMetadata&&n.getItemMetadata(a))&&a.c&&(a.c[b.id]||a.c[pa[b.id]]);return c&&c.formatter||a&&a.formatter||b.formatter||d.formatterFactory&&d.formatterFactory.ha(b)||d.defaultFormatter}
function rc(a,b){var c=h[b];return(a=(a=n.getItemMetadata&&n.getItemMetadata(a))&&a.c)&&a[c.id]&&void 0!==a[c.id].editor?a[c.id].editor:a&&a[b]&&void 0!==a[b].editor?a[b].editor:c.editor||d.editorFactory&&d.editorFactory.ga(c)}function Bb(a,b){return d.dataItemColumnValueExtractor?d.dataItemColumnValueExtractor(a,b):a[b.field]}function sc(a,b,c,m,v){var x=h[c],A="slick-cell l"+c+" r"+Math.min(h.length-1,c+m-1)+(x.cssClass?" "+x.cssClass:"");b===M&&c===Z&&(A+=" active");for(var J in ta)ta[J][b]&&ta[J][b][x.id]&&
(A+=" "+ta[J][b][x.id]);a.push("<div class='"+A+"'>");v&&(A=Bb(v,x),a.push(Ab(b,x)(b,c,A,x,v)));a.push("</div>");Q[b].A.push(c);Q[b].B[c]=m}function qc(a){for(var b in Q)(b=parseInt(b,10))!==M&&(b<a.top||b>a.bottom)&&Cb(b)}function Qa(){O&&Da();lb();for(var a in Q)Cb(a)}function Cb(a){var b=Q[a];b&&(Db==b.f?(b.f.style.display="none",mb=Db):ja[0].removeChild(b.f),delete Q[a],delete Ma[a],tc--,gd++)}function uc(a){var b;if(a&&a.length){var c=ab=0;for(b=a.length;c<b;c++)O&&M===a[c]&&Da(),lb(),Q[a[c]]&&
Cb(a[c])}}function vc(a){uc([a])}function Xb(a){var b=Q[a];if(b){nb(a);var c=Ca(a),m;for(m in b.b)if(b.b.hasOwnProperty(m)){m|=0;var v=h[m],x=b.b[m];a===M&&m===Z&&O?O.i(c):c?x.innerHTML=Ab(a,v)(a,m,Bb(c,v),v,c):x.innerHTML=""}Yb(a)}}function Fa(){za&&(d.autoHeight?ba=d.rowHeight*Ka():ba=parseFloat(e.css(aa[0],"height",!0))-parseFloat(e.css(aa[0],"paddingTop",!0))-parseFloat(e.css(aa[0],"paddingBottom",!0))-parseFloat(e.css(Wa[0],"height"))-B(Wa)-(d.showTopPanel?d.topPanelHeight+B(ob):0)-(d.showHeaderRow?
d.headerRowHeight+B(Aa):0),Zb=Math.ceil(ba/d.rowHeight),ma=parseFloat(e.css(aa[0],"width",!0)),d.autoHeight||ea.height(ba),d.forceFitColumns&&fa(),Eb(),fb(),pb=-1,la())}function Eb(){if(za){var a=Ka(),b=a+(d.leaveSpaceForNewRows?Zb-1:0),c=Ga,m=d.showInnerTopPanel?d.innerTopPanelHeight+B(bb):0,v=b*d.rowHeight+m,x=T();Ga=!d.autoHeight&&v>ba;!Ga&&x>ma&&v>ba-f.height&&(Ga=!0);Da();--a;for(var A in Q)A>=a&&Cb(A);V&&M>a&&lb();A=xa;v>ba-f.height?(xa=d.rowHeight*b,wa=v):xa=wa=ba-f.height-m;wa<q?(jb=wa,ib=
1,yb=0):(xa=q,jb=xa/100,ib=Math.floor(wa/jb),yb=(wa-xa)/(ib-1));xa!==A&&(ja.css("height",xa),da=ea[0].scrollTop);b=da+ha<=wa-ba;0==wa||0==da?hb=ha=0:b?La(da+ha):La(wa-ba);xa!=A&&d.autoHeight&&Fa();d.forceFitColumns&&c!=Ga&&fa();I(!1)}}function kb(a,b){null==a&&(a=da);null==b&&(b=ra);return{top:xb(a),bottom:xb(a+ba)+1,o:b,u:b+ma}}function wc(a,b){a=kb(a,b);b=Math.round(ba/d.rowHeight);-1==ab?(a.top-=b,a.bottom+=3):1==ab?(a.top-=3,a.bottom+=b):(a.top-=3,a.bottom+=3);a.top=Math.max(0,a.top);a.bottom=
Math.min(Ka()-1,a.bottom);a.o-=ma;a.u+=ma;a.o=Math.max(0,a.o);a.u=Math.min(Ba,a.u);return a}function nb(a){if((a=Q[a])&&a.A.length)for(var b=a.f.lastChild;a.A.length;){var c=a.A.pop();a.b[c]=b;b=b.previousSibling}}function xc(){d.enableAsyncPostRender&&(clearTimeout($b),$b=setTimeout(yc,d.asyncPostRenderDelay))}function Yb(a){delete Ma[a];qb=Math.min(qb,a);rb=Math.max(rb,a);xc()}function la(){if(za&&!ac){var a=kb(),b=wc();qc(b);if(pb!=ra){for(var c,m=[],v=[],x,A,J=b.top,L=b.bottom;J<=L;J++)if(c=Q[J]){nb(J);
var P=void 0;A=b;x=J;var W=0,X=Q[x],E=[];for(P in X.b)if(X.b.hasOwnProperty(P)){P|=0;var ia=X.B[P];(Ya[P]>A.u||Za[Math.min(h.length-1,P+ia-1)]<A.o)&&(x!=M||P!=Z)&&E.push(P)}for(;null!=(P=E.pop());)X.f.removeChild(X.b[P]),delete X.B[P],delete X.b[P],Ma[x]&&delete Ma[x][P],W++;x=0;W=(W=n.getItemMetadata&&n.getItemMetadata(J))&&W.c;X=Ca(J);E=0;for(P=h.length;E<P&&!(Ya[E]>b.u);E++)null==(A=c.B[E])&&(A=1,W&&(A=(A=W[h[E].id]||W[E])&&A.G||1,"*"===A&&(A=P-E)),Za[Math.min(P-1,E+A-1)]>b.o&&(sc(m,J,E,A,X),x++)),
E+=1<A?A-1:0;x&&v.push(J)}if(m.length)for(J=document.createElement("div"),J.innerHTML=m.join("");null!=(c=v.pop());)for(c=Q[c];null!=(L=c.A.pop());)m=J.lastChild,c.f.appendChild(m),c.b[L]=m}v=ja[0];c=[];m=[];J=!1;W=qa();L=b.top;for(x=b.bottom;L<=x;L++)if(!Q[L]){tc++;m.push(L);Q[L]={f:null,B:[],b:[],A:[]};X=c;E=L;P=b;ia=W;A=Ca(E);var ka="slick-row"+(E<ia&&!A?" loading":"")+(E===M?" active":"")+(1==E%2?" odd":" even");A||(ka+=" "+d.addNewRowCssClass);(ia=n.getItemMetadata&&n.getItemMetadata(E))&&ia.M&&
(ka+=" "+ia.M);X.push("<div class='ui-widget-content "+ka+"' style='top:"+(d.rowHeight*E-ha)+"px'>");ka=0;for(var gb=h.length;ka<gb;ka++){var bc=h[ka];var Ta=1;ia&&ia.c&&(Ta=(bc=ia.c[bc.id]||ia.c[ka])&&bc.G||1,"*"===Ta&&(Ta=gb-ka));if(Za[Math.min(gb-1,ka+Ta-1)]>P.o){if(Ya[ka]>P.u)break;sc(X,E,ka,Ta,A)}1<Ta&&(ka+=Ta-1)}X.push("</div>");V&&M===L&&(J=!0);hd++}if(m.length){b=document.createElement("div");b.innerHTML=c.join("");L=0;for(x=m.length;L<x;L++)Q[m[L]].f=v.appendChild(b.firstChild);J&&(V=ua(M,
Z))}qb=a.top;rb=Math.min(Ka()-1,a.bottom);xc();zb=da;pb=ra;Fb=null}}function Wc(){var a=Aa[0].scrollLeft;a!=ea[0].scrollLeft&&(ea[0].scrollLeft=a)}function fb(){da=ea[0].scrollTop;ra=ea[0].scrollLeft;var a=Math.abs(da-$a),b=Math.abs(ra-zc);b&&(zc=ra,Wa[0].scrollLeft=ra,ob[0].scrollLeft=ra,Aa[0].scrollLeft=ra);if(a)if(ab=$a<da?1:-1,$a=da,a<ba)La(da+ha);else{var c=ha;hb=xa==ba?0:Math.min(ib-1,Math.floor((wa-ba)/(xa-ba)*da*(1/jb)));ha=Math.round(hb*yb);c!=ha&&Qa()}if(b||a)if(Fb&&clearTimeout(Fb),20<
Math.abs(zb-da)||20<Math.abs(pb-ra))d.forceSyncScrolling||Math.abs(zb-da)<ba&&Math.abs(pb-ra)<ma?la():Fb=setTimeout(la,50),w(G.onViewportChanged,{});w(G.onScroll,{scrollLeft:ra,scrollTop:da})}function yc(){for(var a=qa();qb<=rb;){var b=0<=ab?qb++:rb--,c=Q[b];if(c&&!(b>=a)){Ma[b]||(Ma[b]={});nb(b);for(var m in c.b)if(c.b.hasOwnProperty(m)&&(m|=0,a=h[m],a.J&&!Ma[b][m])){var v=c.b[m];v&&a.J(v,b,Ca(b),a);Ma[b][m]=!0}$b=setTimeout(yc,d.asyncPostRenderDelay);break}}}function cc(a,b){var c,m,v;for(v in Q){var x=
b&&b[v];var A=a&&a[v];if(x)for(m in x)A&&x[m]==A[m]||(c=ua(v,pa[m]))&&e(c).removeClass(x[m]);if(A)for(m in A)x&&x[m]==A[m]||(c=ua(v,pa[m]))&&e(c).addClass(A[m])}}function pc(a,b){var c=ta[a];ta[a]=b;cc(b,c);w(G.onCellCssStylesChanged,{key:a,hash:b})}function fd(a){a=e(a.target).closest(".slick-row")[0];a!=Db&&(mb&&mb!=a&&(ja[0].removeChild(mb),mb=null),Db=a)}function $c(a,b){var c=sb(a);if(!c||!dc(c.row,c.cell))return!1;b=w(G.onDragInit,b,a);return a.isImmediatePropagationStopped()?b:!1}function ad(a,
b){var c=sb(a);if(!c||!dc(c.row,c.cell))return!1;b=w(G.onDragStart,b,a);return a.isImmediatePropagationStopped()?b:!1}function bd(a,b){return w(G.onDrag,b,a)}function cd(a,b){w(G.onDragEnd,b,a)}function ic(a){w(G.onKeyDown,{row:M,cell:Z},a);var b=a.isImmediatePropagationStopped();if(!b)if(a.shiftKey||a.altKey||a.ctrlKey)9!=a.which||!a.shiftKey||a.ctrlKey||a.altKey||((c=wb())&&c.length?tb(c[0],!1):b=Ic());else if(27==a.which){if(!C().isActive())return;Ac()}else if(34==a.which)Bc(),b=!0;else if(33==
a.which)Cc(),b=!0;else if(37==a.which)b=Dc();else if(39==a.which)b=Ec();else if(38==a.which)b=Fc();else if(40==a.which)b=Gb();else if(9==a.which){var c=wb();c&&c.length?tb(c[0],!1):b=Gc()}else if(13==a.which){if(d.editable)O?M===qa()?Gb():Hc():C().commitCurrentEdit()&&Hb();else if(b=ec())c=new Slick.EventData,c.target=V,w(G.onFocusTrigger,{row:b.row,cell:b.cell},c);b=!0}if(b){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(m){}}}function Xc(a){O||(a.target!=document.activeElement||
e(a.target).hasClass("slick-cell"))&&Ua();var b=sb(a);!b||null!==O&&M==b.row&&Z==b.cell||(w(G.onClick,{row:b.row,cell:b.cell},a),a.isImmediatePropagationStopped()||Z==b.cell&&M==b.row||!Ea(b.row,b.cell)||C().isActive()&&!C().commitCurrentEdit()||(tb(b.row,!1),Va(ua(b.row,b.cell))))}function Zc(a){var b=e(a.target).closest(".slick-cell",ja);0===b.length||V===b[0]&&null!==O||w(G.onContextMenu,{},a)}function Yc(a){var b=sb(a);!b||null!==O&&M==b.row&&Z==b.cell||(w(G.onDblClick,{row:b.row,cell:b.cell},
a),a.isImmediatePropagationStopped()||d.editable&&Jc(b.row,b.cell,!0))}function Uc(a){w(G.onHeaderMouseEnter,{column:e(this).data("column")},a)}function Vc(a){w(G.onHeaderMouseLeave,{column:e(this).data("column")},a)}function Sc(a){var b=e(a.target).closest(".slick-header-column",".slick-header-columns");b=b&&b.data("column");w(G.onHeaderContextMenu,{column:b},a)}function Tc(a){var b=e(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&w(G.onHeaderClick,{column:b},
a)}function dd(a){w(G.onMouseEnter,{},a)}function ed(a){w(G.onMouseLeave,{},a)}function dc(a,b){return!(0>a||a>=qa()||0>b||b>=h.length)}function fc(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function gc(a){for(var b in Q)if(Q[b].f===a)return b|0;return null}function sb(a){var b=e(a.target).closest(".slick-cell",ja);if(!b.length)return null;a=gc(b[0].parentNode);b=fc(b[0]);return null==a||null==b?null:
{row:a,cell:b}}function lb(){Va(null,!1)}function Ua(){-1==Kc?ub[0].focus():Pb[0].focus()}function Ib(a,b,c){tb(a,c);c=cb(a,b);a=Ya[b];b=Za[b+(1<c?c-1:0)];c=ra+ma;a<ra?(ea.scrollLeft(a),fb(),la()):b>c&&(ea.scrollLeft(Math.min(a,b-ea[0].clientWidth)),fb(),la())}function Va(a,b){null!==V&&(Da(),e(V).removeClass("active"),Q[M]&&e(Q[M].f).removeClass("active"));var c=V!==a;V=a;null!=V?(M=gc(V.parentNode),Z=db=fc(V),null==b&&(b=M==qa()||d.autoEdit),e(V).addClass("active"),e(Q[M].f).addClass("active"),
d.editable&&b&&Lc(M,Z)&&(clearTimeout(hc),d.asyncEditorLoading?hc=setTimeout(function(){Hb()},d.asyncEditorLoadDelay):Hb())):M=Z=null;c&&w(G.onActiveCellChanged,ec())}function Lc(a,b){var c=qa();return a<c&&!Ca(a)||h[b].ea&&a>=c||!rc(a,b)?!1:!0}function Da(){if(O){w(G.S,{editor:O});O.destroy();O=null;if(V){var a=Ca(M);e(V).removeClass("editable invalid");if(a){var b=h[Z],c=Ab(M,b);V.innerHTML=c(M,Z,Bb(a,b),b,a);Yb(M)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(m){}else window.getSelection&&
(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();C().deactivate(Jb)}}function Hb(a){if(V){if(!d.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(hc);if(Lc(M,Z)){var b=h[Z],c=Ca(M);!1===w(G.onBeforeEditCell,{row:M,cell:Z,item:c,column:b})?Ua():(C().activate(Jb),e(V).addClass("editable"),a||(V.innerHTML=""),O=new (a||rc(M,Z))({grid:G,ja:Kb(aa[0]),position:Kb(V),j:V,column:b,item:c||{},L:Hc,K:Ac}),c&&O.i(c),Mc=O.g(),
O.position&&kc())}}}function Hc(){C().commitCurrentEdit()&&(Ua(),d.autoEdit&&Gb())}function Ac(){C().cancelCurrentEdit()&&Ua()}function Kb(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:e(a).outerWidth(),height:e(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var c=a.offsetParent;(a=a.parentNode)!=document.body;)b.visible&&a.scrollHeight!=a.offsetHeight&&"visible"!=e(a).css("overflowY")&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),
b.visible&&a.scrollWidth!=a.offsetWidth&&"visible"!=e(a).css("overflowX")&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===c&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,c=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function Nc(){return Kb(V)}function kc(){if(V&&(w(G.onActiveCellPositionChanged,{}),O)){var a=Nc();O.show&&O.hide&&(a.visible?O.show():O.hide());O.position&&O.position(a)}}function ec(){return V?{row:M,
cell:Z}:null}function tb(a,b){var c=a*d.rowHeight,m=(a+1)*d.rowHeight-ba+(Qb?f.height:0);(a+1)*d.rowHeight>da+ba+ha?(La(b?c:m),la()):a*d.rowHeight<da+ha&&(La(b?m:c),la())}function Oc(a){a*=Zb;La((xb(da)+a)*d.rowHeight);la();if(d.enableCellNavigation&&null!=M){a=M+a;var b=Ka();a>=b&&(a=b-1);0>a&&(a=0);b=0;for(var c=null,m=db;b<=db;)Ea(a,b)&&(c=b),b+=cb(a,b);null!==c?(Va(ua(a,c)),db=m):lb()}}function Bc(){Oc(1)}function Cc(){Oc(-1)}function cb(a,b){a=n.getItemMetadata&&n.getItemMetadata(a);if(!a||!a.c)return 1;
a=(a=a.c[h[b].id]||a.c[b])&&a.G;"*"===a?a=h.length-b:a=a||1;return a}function Pc(a,b){if(b>=h.length)return null;do b+=cb(a,b);while(b<h.length&&!Ea(a,b));return b<h.length?{row:a,cell:b,s:b}:null}function id(a,b){if(0>=b)return null;var c;a:{for(c=0;c<h.length;){if(Ea(a,c))break a;c+=cb(a,c)}c=null}if(null===c||c>=b)return null;for(a={row:a,cell:c,s:c};;){c=Pc(a.row,a.cell,a.s);if(!c)return null;if(c.cell>=b)return a;a=c}}function jd(a,b,c){for(var m,v=Ka();;){if(++a>=v)return null;for(m=b=0;b<=
c;)m=b,b+=cb(a,b);if(Ea(a,m))return{row:a,cell:m,s:c}}}function kd(a,b,c){for(var m;;){if(0>--a)return null;for(m=b=0;b<=c;)m=b,b+=cb(a,b);if(Ea(a,m))return{row:a,cell:m,s:c}}}function ld(a,b){return null==a&&null==b&&(a=b=0,Ea(a,b))?{row:a,cell:b,s:b}:null}function md(a,b){return null==a&&null==b&&(a=Ka()-1,b=h.length-1,Ea(a,b))?{row:a,cell:b,s:b}:null}function Ec(){return eb("right")}function Dc(){return eb("left")}function Gb(){return eb("down")}function Fc(){return eb("up")}function Gc(){return eb("next")}
function Ic(){return eb("prev")}function eb(a){if(!d.enableCellNavigation||!V&&"prev"!=a&&"next"!=a)return!1;if(!C().commitCurrentEdit())return!0;Ua();Kc={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];if(a=(0,{up:kd,down:jd,left:id,right:Pc,prev:md,next:ld}[a])(M,Z,db)){var b=a.row==qa();Ib(a.row,a.cell,!b);Va(ua(a.row,a.cell));db=a.s;return!0}Va(ua(M,Z));return!1}function ua(a,b){return Q[a]?(nb(a),Q[a].b[b]):null}function Ea(a,b){return!d.enableCellNavigation||a>=Ka()||0>a||b>=h.length||0>b||
h[b]._noactive?!1:(a=n.getItemMetadata&&n.getItemMetadata(a))&&"boolean"===typeof a.focusable?a.focusable:(a=a&&a.c)&&a[h[b].id]&&"boolean"===typeof a[h[b].id].focusable?a[h[b].id].focusable:a&&a[b]&&"boolean"===typeof a[b].focusable?a[b].focusable:h[b].focusable}function oc(a,b){return a>=qa()||0>a||b>=h.length||0>b?!1:(a=n.getItemMetadata&&n.getItemMetadata(a))&&"boolean"===typeof a.selectable?a.selectable:(a=a&&a.c&&(a.c[h[b].id]||a.c[b]))&&"boolean"===typeof a.selectable?a.selectable:h[b].selectable}
function Jc(a,b,c){za&&Ea(a,b)&&C().commitCurrentEdit()&&(Ib(a,b,!1),b=ua(a,b),Va(b,c||a===qa()||d.autoEdit),O||Ua())}function nd(){var a=Ca(M),b=h[Z];if(O){if(O.m()){var c=O.validate();if(c.valid)return M<qa()?(c={row:M,cell:Z,editor:O,X:O.g(),W:Mc,O:function(){this.editor.h(a,this.X);Xb(this.row);w(G.onCellChange,{row:M,cell:Z,item:a})},sa:function(){this.editor.h(a,this.W);Xb(this.row);w(G.onCellChange,{row:M,cell:Z,item:a})}},d.N?(Da(),d.N(a,b,c)):(c.O(),Da())):(c={},O.h(c,O.g()),Da(),w(G.onAddNewRow,
{item:c,column:b})),!C().isActive();e(V).removeClass("invalid");e(V).width();e(V).addClass("invalid");w(G.V,{editor:O,fa:V,ta:c,row:M,cell:Z,column:b});O.focus();return!1}Da()}return!0}function od(){Da();return!0}function pd(a){for(var b=[],c=h.length-1,m=0;m<a.length;m++)b.push(new Slick.Range(a[m],0,a[m],c));return b}function wb(){if(!ya)throw"Selection model is not set";return Vb}var qd={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,
autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,showInnerTopPanel:!1,innerTopPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,
fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,c){return null==c?"":(c+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},forceSyncScrolling:!1,addNewRowCssClass:"new-row"},Wb={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},wa,xa,jb,ib,yb,hb=0,ha=0,ab=1,za=!1,aa,na="slickgrid_"+Math.round(1E6*Math.random()),G=this,ub,Pb,Wa,ca,Na,Aa,jc,ob,ea,bb,ja,Ra,Oa,Sa,Tb,Ub,ba,ma,Ba,Qb,Ga,Pa=
0,mc=0,Rb=0,Sb=0,Ja,Kc=1,db,M,Z,V=null,O=null,Mc,Jb,Q={},tc=0,Zb,$a=0,da=0,zb=0,pb=0,zc=0,ra=0,ya,Vb=[],Ia=[],ta={},pa={},oa=[],Ya=[],Za=[],hc=null,Fb=null,$b=null,Ma={},rb=null,qb=null,hd=0,gd=0,Db,mb,ac=!1;e.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,I:new Slick.Event,H:new Slick.Event,U:new Slick.Event,T:new Slick.Event,
onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onFocusTrigger:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,V:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,S:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,
onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(a){Ia.unshift(a);a.init(G)},unregisterPlugin:F,getColumns:function(){return h},setColumns:lc,getColumnIndex:function(a){return pa[a]},updateColumnHeader:function(a,b,c){if(za&&(a=pa[a],null!=a)){var m=h[a],v=ca.children().eq(a);v&&(void 0!==b&&(h[a].name=b),void 0!==c&&(h[a].toolTip=c),w(G.H,{node:v[0],
column:m}),v.attr("title",c||"").children().eq(0).html(b),w(G.I,{node:v[0],column:m}))}},setSortColumn:function(a,b){vb([{columnId:a,sortAsc:b}])},setSortColumns:vb,getSortColumns:function(){return oa},autosizeColumns:fa,getOptions:function(){return d},setOptions:function(a){C().commitCurrentEdit()&&(Da(),d.enableAddRow!==a.enableAddRow&&vc(qa()),d=e.extend(d,a),d.autoHeight&&(d.leaveSpaceForNewRows=!1),ea.css("overflow-y",d.autoHeight?"hidden":"auto"),la())},getData:function(){return n},getDataLength:qa,
getDataItem:Ca,setData:function(a,b){n=a;Qa();Eb();b&&La(0)},getSelectionModel:function(){return ya},setSelectionModel:function(a){ya&&(ya.onSelectedRangesChanged.unsubscribe(nc),ya.destroy&&ya.destroy());if(ya=a)ya.init(G),ya.onSelectedRangesChanged.subscribe(nc)},getSelectedRows:wb,setSelectedRows:function(a){if(!ya)throw"Selection model is not set";ya.setSelectedRanges(pd(a))},getContainerNode:function(){return aa.get(0)},render:la,invalidate:function(){Eb();Qa();la()},invalidateRow:vc,invalidateRows:uc,
invalidateAllRows:Qa,updateCell:function(a,b){var c=ua(a,b);if(c){var m=h[b],v=Ca(a);O&&M===a&&Z===b?O.i(v):(c.innerHTML=v?Ab(a,m)(a,b,Bb(v,m),m,v):"",Yb(a))}},updateRow:Xb,getViewport:kb,getRenderedRange:wc,resizeCanvas:Fa,updateRowCount:Eb,scrollRowIntoView:tb,scrollRowToTop:function(a){La(a*d.rowHeight);la()},scrollCellIntoView:Ib,getCanvasNode:function(){return ja[0]},focus:Ua,getCellFromPoint:function(a,b){b=xb(b);for(var c=0,m=0,v=0;v<h.length&&m<a;v++)m+=h[v].width,c++;0>c&&(c=0);return{row:b,
cell:c-1}},getCellFromEvent:sb,getActiveCell:ec,setActiveCell:function(a,b){!za||a>qa()||0>a||b>=h.length||0>b||!d.enableCellNavigation||(Ib(a,b,!1),Va(ua(a,b),!1))},getActiveCellNode:function(){return V},getActiveCellPosition:Nc,resetActiveCell:lb,editActiveCell:Hb,getCellEditor:function(){return O},getCellNode:ua,getCellNodeBox:function(a,b){if(!dc(a,b))return null;a=d.rowHeight*a-ha;for(var c=a+d.rowHeight-1,m=0,v=0;v<b;v++)m+=h[v].width;return{top:a,left:m,bottom:c,right:m+h[b].width}},canCellBeSelected:oc,
canCellBeActive:Ea,navigatePrev:Ic,navigateNext:Gc,navigateUp:Fc,navigateDown:Gb,navigateLeft:Dc,navigateRight:Ec,navigatePageUp:Cc,navigatePageDown:Bc,gotoCell:Jc,getInnerTopPanel:function(){return bb[0]},setInnerTopPanelVisibility:function(a){d.showInnerTopPanel!=a&&((d.showInnerTopPanel=a)?bb.slideDown("fast",Fa):bb.slideUp("fast",Fa))},setHeaderRowVisibility:function(a){d.showHeaderRow!=a&&((d.showHeaderRow=a)?Aa.slideDown("fast",Fa):Aa.slideUp("fast",Fa))},getHeaderRow:function(){return Na[0]},
getHeaderRowColumn:function(a){a=pa[a];return(a=Na.children().eq(a))&&a[0]},getGridPosition:function(){return Kb(aa[0])},flashCell:function(a,b,c){function m(x){x&&setTimeout(function(){v.queue(function(){v.toggleClass(d.cellFlashingCssClass).dequeue();m(x-1)})},c)}c=c||100;if(Q[a]){var v=e(ua(a,b));m(4)}},addCellCssStyles:function(a,b){if(ta[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";ta[a]=b;cc(b,null);w(G.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:pc,
removeCellCssStyles:function(a){ta[a]&&(cc(null,ta[a]),delete ta[a],w(G.onCellCssStylesChanged,{key:a,hash:null}))},getCellCssStyles:function(a){return ta[a]},init:y,destroy:function(){C().cancelCurrentEdit();w(G.onBeforeDestroy,{});for(var a=Ia.length;a--;)F(Ia[a]);d.enableColumnReorder&&ca.filter(":ui-sortable").sortable("destroy");Oa&&(Oa.unbind("scroll."+na),Oa=null);aa.unbind(".slickgrid");Ra.remove();Sa=null;ja.unbind("draginit dragstart dragend drag");aa.empty().removeClass(na)},getEditorLock:C,
getEditController:function(){return Jb},measureCellPaddingAndBorder:D,beginRender:function(){ac=!0},endRender:function(a){ac=!1;0!=a&&la()},onColumnResizerDblClick:new Slick.Event,enableColumnFit:function(){function a(c){var m=c.cloneNode(!0);m.style.cssText="position: absolute; right: auto;text-overflow: initial;white-space: nowrap; visibility: hidden;";c.parentNode.insertBefore(m,c);c=m.offsetWidth;m.parentNode.removeChild(m);return c}var b=document.createElement("canvas").getContext("2d");G.onColumnResizerDblClick.subscribe(function(c,
m){if((c=m.column)&&1!=c._nofit){m=pa[c.id];var v=ca.children()[m];v=v?a(v)+8:0;for(var x=0,A=kb(),J=A.top,L=A.top;L<A.bottom;++L)if(Q[L]){nb(L);var P=Q[L].b[m];P=P?b.measureText(P.textContent||"").width:0;P>x&&(x=P,J=L)}m=Q[J]?1+a(Q[J].b[m]):0;m=Math.max(v,m);0<m&&m!=c.width&&(c.width=m,Ha(),I(!0),w(G.onColumnsResized,{}))}})},getRowNode:function(a){return Q[a]?Q[a].f:null},getCellNodeFromEvent:function(a){a=e(a.target).closest(".slick-cell",ja);if(!a.length)return null;var b=gc(a[0].parentNode),
c=fc(a[0]);return null==b||null==c?null:{row:b,cell:c,$cell:a}}});(function(){aa=e(r);if(1>aa.length)throw Error("SlickGrid requires a valid container, "+r+" does not exist in the DOM.");var a;if(!(a=q)){a=1E6;for(var b=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,c=e("<div style='display:none' />").appendTo(document.body);;){var m=2*a;c.css("height",m);if(m>b||c.height()!==m)break;else a=m}c.remove()}q=a;(a=f)||(a=e("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),
b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight},a.remove(),a=b);f=a;d=e.extend({},qd,d);d.autoHeight&&(d.leaveSpaceForNewRows=!1);Wb.width=d.defaultColumnWidth;pa={};for(a=0;a<h.length;a++)b=h[a]=e.extend({},Wb,h[a]),pa[b.id]=a,b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth),b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth);if(d.enableColumnReorder&&!e.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");
Jb={commitCurrentEdit:nd,cancelCurrentEdit:od};aa.empty().css("overflow","hidden").css("outline",0).addClass(na).addClass("ui-widget");/relative|absolute|fixed/.test(aa.css("position"))||aa.css("position","relative");ub=e("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(aa);Wa=e("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(aa);ca=e("<div class='slick-header-columns' style='left:-1000px' />").appendTo(Wa);
ca.width(S());Aa=e("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(aa);Na=e("<div class='slick-headerrow-columns' />").appendTo(Aa);jc=e("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",T()+f.width+"px").appendTo(Aa);ob=e("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(aa);e("<div class='slick-top-panel' style='width:10000px' />").appendTo(ob);
d.showTopPanel||ob.hide();d.showHeaderRow||Aa.hide();ea=e("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo(aa);ea.css("overflow-y",d.autoHeight?"hidden":"auto");ja=e("<div class='grid-canvas' />").appendTo(ea);bb=e("<div class='grid-inner-top-panel'/>").appendTo(ea);d.showInnerTopPanel||bb.hide();Pb=ub.clone().appendTo(aa);d.explicitInitialization||y()})()}}});var f,q})(jQuery);(function(e){e.extend(!0,window,{Slick:{Formatters:{PercentComplete:function(f,q,r){return null==r||""===r?"-":50>r?"<span style='color:red;font-weight:bold;'>"+r+"%</span>":"<span style='color:green'>"+r+"%</span>"},PercentCompleteBar:function(f,q,r){return null==r||""===r?"":"<span class='percent-complete-bar' style='background:"+(30>r?"red":70>r?"silver":"green")+";width:"+r+"%'></span>"},YesNo:function(f,q,r){return r?"Yes":"No"},Checkmark:function(f,q,r){return r?"<img src='../images/tick.png'>":
""}}}})})(jQuery);(function(e){e.extend(!0,window,{Slick:{Editors:{Text:function(f){var q,r;this.init=function(){q=e("<INPUT type=text class='editor-text' />").appendTo(f.j).bind("keydown.nav",function(n){n.keyCode!==e.ui.keyCode.LEFT&&n.keyCode!==e.ui.keyCode.RIGHT||n.stopImmediatePropagation()}).focus().select()};this.destroy=function(){q.remove()};this.focus=function(){q.focus()};this.i=function(n){r=n[f.column.field]||"";q.val(r);q[0].defaultValue=r;q.select()};this.g=function(){return q.val()};this.h=function(n,
h){n[f.column.field]=h};this.m=function(){return!(""==q.val()&&null==r)&&q.val()!=r};this.validate=function(){if(f.column.aa){var n=f.column.aa(q.val());if(!n.valid)return n}return{valid:!0,l:null}};this.init()},Integer:function(f){var q,r;this.init=function(){q=e("<INPUT type=text class='editor-text' />");q.bind("keydown.nav",function(n){n.keyCode!==e.ui.keyCode.LEFT&&n.keyCode!==e.ui.keyCode.RIGHT||n.stopImmediatePropagation()});q.appendTo(f.j);q.focus().select()};this.destroy=function(){q.remove()};
this.focus=function(){q.focus()};this.i=function(n){r=n[f.column.field];q.val(r);q[0].defaultValue=r;q.select()};this.g=function(){return parseInt(q.val(),10)||0};this.h=function(n,h){n[f.column.field]=h};this.m=function(){return!(""==q.val()&&null==r)&&q.val()!=r};this.validate=function(){return isNaN(q.val())?{valid:!1,l:"Please enter a valid integer"}:{valid:!0,l:null}};this.init()},Date:function(f){var q,r,n=!1;this.init=function(){q=e("<INPUT type=text class='editor-text' />");q.appendTo(f.j);
q.focus().select();q.v({na:"button",da:!0,ca:"../images/calendar.gif",ba:function(){n=!0},ka:function(){n=!1}});q.width(q.width()-18)};this.destroy=function(){e.v.C.stop(!0,!0);q.v("hide");q.v("destroy");q.remove()};this.show=function(){n&&e.v.C.stop(!0,!0).show()};this.hide=function(){n&&e.v.C.stop(!0,!0).hide()};this.position=function(h){n&&e.v.C.css("top",h.top+30).css("left",h.left)};this.focus=function(){q.focus()};this.i=function(h){r=h[f.column.field];q.val(r);q[0].defaultValue=r;q.select()};
this.g=function(){return q.val()};this.h=function(h,d){h[f.column.field]=d};this.m=function(){return!(""==q.val()&&null==r)&&q.val()!=r};this.validate=function(){return{valid:!0,l:null}};this.init()},YesNoSelect:function(f){var q,r;this.init=function(){q=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>");q.appendTo(f.j);q.focus()};this.destroy=function(){q.remove()};this.focus=function(){q.focus()};this.i=function(n){q.val((r=n[f.column.field])?
"yes":"no");q.select()};this.g=function(){return"yes"==q.val()};this.h=function(n,h){n[f.column.field]=h};this.m=function(){return q.val()!=r};this.validate=function(){return{valid:!0,l:null}};this.init()},Checkbox:function(f){var q,r;this.init=function(){q=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>");q.appendTo(f.j);q.focus()};this.destroy=function(){q.remove()};this.focus=function(){q.focus()};this.i=function(n){(r=!!n[f.column.field])?q.prop("checked",!0):q.prop("checked",
!1)};this.g=function(){return q.prop("checked")};this.h=function(n,h){n[f.column.field]=h};this.m=function(){return this.g()!==r};this.validate=function(){return{valid:!0,l:null}};this.init()},PercentComplete:function(f){var q,r,n;this.init=function(){q=e("<INPUT type=text class='editor-percentcomplete' />");q.width(e(f.j).innerWidth()-25);q.appendTo(f.j);r=e("<div class='editor-percentcomplete-picker' />").appendTo(f.j);r.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>");
r.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>");q.focus().select();r.find(".editor-percentcomplete-slider").Y({orientation:"vertical",la:"min",value:n,oa:function(h,d){q.val(d.value)}});r.find(".editor-percentcomplete-buttons button").bind("click",function(){q.val(e(this).attr("val"));r.find(".editor-percentcomplete-slider").Y("value",e(this).attr("val"))})};this.destroy=function(){q.remove();
r.remove()};this.focus=function(){q.focus()};this.i=function(h){q.val(n=h[f.column.field]);q.select()};this.g=function(){return parseInt(q.val(),10)||0};this.h=function(h,d){h[f.column.field]=d};this.m=function(){return!(""==q.val()&&null==n)&&(parseInt(q.val(),10)||0)!=n};this.validate=function(){return isNaN(parseInt(q.val(),10))?{valid:!1,l:"Please enter a valid positive number"}:{valid:!0,l:null}};this.init()},LongText:function(f){var q,r,n,h=this;this.init=function(){var d=e("body");r=e("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(d);
q=e("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(r);e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(r);r.find("button:first").bind("click",this.save);r.find("button:last").bind("click",this.cancel);q.bind("keydown",this.P);h.position(f.position);q.focus().select()};this.P=function(d){d.which==e.ui.keyCode.ENTER&&d.ctrlKey?h.save():d.which==e.ui.keyCode.ESCAPE?(d.preventDefault(),h.cancel()):
d.which==e.ui.keyCode.TAB&&d.shiftKey?(d.preventDefault(),f.grid.navigatePrev()):d.which==e.ui.keyCode.TAB&&(d.preventDefault(),f.grid.navigateNext())};this.save=function(){f.L()};this.cancel=function(){q.val(n);f.K()};this.hide=function(){r.hide()};this.show=function(){r.show()};this.position=function(d){r.css("top",d.top-5).css("left",d.left-5)};this.destroy=function(){r.remove()};this.focus=function(){q.focus()};this.i=function(d){q.val(n=d[f.column.field]);q.select()};this.g=function(){return q.val()};
this.h=function(d,y){d[f.column.field]=y};this.m=function(){return!(""==q.val()&&null==n)&&q.val()!=n};this.validate=function(){return{valid:!0,l:null}};this.init()}}}})})(jQuery);(function(e){e.extend(!0,window,{Slick:{AutoTooltips:function(f){function q(d){if((d=n.getCellNodeFromEvent(d))&&!n.getColumns()[d.cell]._notip){d=d.$cell;f.tipHandle&&(d=d.find(f.tipHandle));var y=d[0];if(y.Z!=y.scrollWidth){if(d.innerWidth()<y.scrollWidth){var F=e.trim(d.text());f.maxToolTipLength&&F.length>f.maxToolTipLength&&(F=F.substr(0,f.maxToolTipLength-3)+"...")}else F="";y.Z=y.scrollWidth;d.attr("title",F)}}}function r(d,y){y=y.column;d=e(d.target).closest(".slick-header-column");y.toolTip||
d.attr("title",d.innerWidth()<d[0].scrollWidth?y.name:"")}var n,h={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:null,tipHandle:null};e.extend(this,{init:function(d){f=e.extend(!0,{},h,f);n=d;f.enableForCells&&n.onMouseEnter.subscribe(q);f.enableForHeaderCells&&n.onHeaderMouseEnter.subscribe(r)},destroy:function(){f.enableForCells&&n.onMouseEnter.unsubscribe(q);f.enableForHeaderCells&&n.onHeaderMouseEnter.unsubscribe(r)},config:function(d,y){f[d]=y}})}}})})(jQuery);(function(e){e.extend(!0,window,{Slick:{RowSelectionModel:function(f){function q(B){return function(){K||(K=!0,B.apply(this,arguments),K=!1)}}function r(B){for(var D=[],H=0;H<B.length;H++)for(var w=B[H].fromRow;w<=B[H].toRow;w++)D.push(w);return D}function n(B){for(var D=[],H=I.getColumns().length-1,w=0;w<B.length;w++)D.push(new Slick.Range(B[w],0,B[w],H));return D}function h(B,D){var H,w=[];for(H=B;H<=D;H++)w.push(H);for(H=D;H<B;H++)w.push(H);return w}function d(){return r(u)}function y(B){u=B;z.onSelectedRangesChanged.notify(u)}
function F(B,D){R.selectActiveRow&&null!=D.row&&y([new Slick.Range(D.row,0,D.row,I.getColumns().length-1)])}function S(B){var D=I.getActiveCell();if(D&&B.shiftKey&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&(38==B.which||40==B.which)){var H=d();H.sort(function(C,fa){return C-fa});H.length||(H=[D.row]);var w=H[0];H=H[H.length-1];D=40==B.which?D.row<H||w==H?++H:++w:D.row<H?--H:--w;0<=D&&D<I.getDataLength()&&(I.scrollRowIntoView(D),u=n(h(w,H)),y(u));B.preventDefault();B.stopPropagation()}}function T(B){var D=
I.getCellFromEvent(B);if(!(D&&I.canCellBeActive(D.row,D.cell)&&I.getOptions().multiSelect&&(B.ctrlKey||B.shiftKey||B.metaKey)))return!1;var H=r(u),w=e.inArray(D.row,H);if(-1===w&&(B.ctrlKey||B.metaKey))H.push(D.row),I.setActiveCell(D.row,D.cell);else if(-1!==w&&(B.ctrlKey||B.metaKey))H=e.grep(H,function(Ha){return Ha!==D.row}),I.setActiveCell(D.row,D.cell);else if(H.length&&B.shiftKey){w=H.pop();var C=Math.min(D.row,w),fa=Math.max(D.row,w);for(H=[];C<=fa;C++)C!==w&&H.push(C);H.push(w);I.setActiveCell(D.row,
D.cell)}u=n(H);y(u);B.stopImmediatePropagation();return!0}var I,u=[],z=this,N=new Slick.EventHandler,K,R,U={selectActiveRow:!0};e.extend(this,{getSelectedRows:d,setSelectedRows:function(B){y(n(B))},getSelectedRanges:function(){return u},setSelectedRanges:y,init:function(B){R=e.extend(!0,{},U,f);I=B;N.subscribe(I.onActiveCellChanged,q(F));N.subscribe(I.onKeyDown,q(S));N.subscribe(I.onClick,q(T))},destroy:function(){N.unsubscribeAll()},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);(function(e){e.extend(!0,window,{Slick:{RowMoveManager:function(f){function q(u){u.stopImmediatePropagation()}function r(u,z){var N=d.getCellFromEvent(u);f.cancelEditOnDrag&&d.getEditorLock().isActive()&&d.getEditorLock().cancelCurrentEdit();if(d.getEditorLock().isActive()||!/move|selectAndMove/.test(d.getColumns()[N.cell].behavior))return!1;F=!0;u.stopImmediatePropagation();var K=d.getSelectedRows();if(0==K.length||-1==e.inArray(N.row,K))K=[N.row],d.setSelectedRows(K);N=d.getOptions().rowHeight;
z.selectedRows=K;z.selectionProxy=e("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",e(y).innerWidth()).css("height",N*K.length).css("top",u.pageY-e(y).offset().top-5).appendTo(y);z.guide=e("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",e(y).innerWidth()).css("top",-1E3).appendTo(y);z.insertBefore=-1}function n(u,z){F&&(u.stopImmediatePropagation(),u=u.pageY-e(y).offset().top,z.selectionProxy.css("top",
u-5),u=Math.max(0,Math.min(Math.round(u/d.getOptions().rowHeight),d.getDataLength())),u!==z.insertBefore&&(!1===S.onBeforeMoveRows.notify({rows:z.selectedRows,insertBefore:u})?(z.guide.css("top",-1E3),z.canMove=!1):(z.guide.css("top",u*d.getOptions().rowHeight),z.canMove=!0),z.insertBefore=u))}function h(u,z){F&&(F=!1,u.stopImmediatePropagation(),z.guide.remove(),z.selectionProxy.remove(),z.canMove&&S.onMoveRows.notify({rows:z.selectedRows,insertBefore:z.insertBefore}))}var d,y,F,S=this,T=new Slick.EventHandler,
I={cancelEditOnDrag:!1};e.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:function(u){f=e.extend(!0,{},I,f);d=u;y=d.getCanvasNode();T.subscribe(d.onDragInit,q).subscribe(d.onDragStart,r).subscribe(d.onDrag,n).subscribe(d.onDragEnd,h)},destroy:function(){T.unsubscribeAll()}})}}})})(jQuery);(function(e){e.fn.numeric=function(f,q){"boolean"===typeof f&&(f={decimal:f});f=f||{};"undefined"==typeof f.negative&&(f.negative=!0);var r=!1===f.decimal?"":f.decimal||".";f=!0===f.negative?!0:!1;q="function"==typeof q?q:function(){};return this.data("numeric.decimal",r).data("numeric.negative",f).data("numeric.callback",q).keypress(e.fn.numeric.keypress).keyup(e.fn.numeric.keyup).blur(e.fn.numeric.blur)};e.fn.numeric.keypress=function(f){var q=e.data(this,"numeric.decimal"),r=e.data(this,"numeric.negative"),
n=f.charCode?f.charCode:f.keyCode?f.keyCode:0;if(13==n&&"input"==this.nodeName.toLowerCase())return!0;if(13==n)return!1;var h=!1;if(f.ctrlKey&&97==n||f.ctrlKey&&65==n||f.ctrlKey&&120==n||f.ctrlKey&&88==n||f.ctrlKey&&99==n||f.ctrlKey&&67==n||f.ctrlKey&&122==n||f.ctrlKey&&90==n||f.ctrlKey&&118==n||f.ctrlKey&&86==n||f.shiftKey&&45==n)return!0;if(48>n||57<n){var d=e(this).val();if(0!==d.indexOf("-")&&r&&45==n&&(0===d.length||0===parseInt(e.fn.ia(this),10)))return!0;q&&n==q.charCodeAt(0)&&-1!=d.indexOf(q)&&
(h=!1);8!=n&&9!=n&&13!=n&&35!=n&&36!=n&&37!=n&&39!=n&&46!=n?h=!1:"undefined"!=typeof f.charCode&&(f.keyCode==f.which&&0!==f.which?(h=!0,46==f.which&&(h=!1)):0!==f.keyCode&&0===f.charCode&&0===f.which&&(h=!0));q&&n==q.charCodeAt(0)&&(h=-1==d.indexOf(q)?!0:!1)}else h=!0;return h};e.fn.numeric.keyup=function(){var f=e(this).val();if(f&&0<f.length){var q=e.data(this,"numeric.decimal"),r=e.data(this,"numeric.negative");if(""!==q&&null!==q){var n=f.indexOf(q);0===n&&(this.value="0"+f);1==n&&"-"==f.charAt(0)&&
(this.value="-0"+f.substring(1));f=this.value}var h=[0,1,2,3,4,5,6,7,8,9,"-",q];n=f.length;for(var d=n-1;0<=d;d--){var y=f.charAt(d);0!==d&&"-"==y?f=f.substring(0,d)+f.substring(d+1):0!==d||r||"-"!=y||(f=f.substring(1));for(var F=!1,S=0;S<h.length;S++)if(y==h[S]){F=!0;break}F&&" "!=y||(f=f.substring(0,d)+f.substring(d+1))}r=f.indexOf(q);if(0<r)for(--n;n>r;n--)f.charAt(n)==q&&(f=f.substring(0,n)+f.substring(n+1));this.value=f}};e.fn.numeric.blur=function(){function f(h){if(h.max&&parseInt(h.value)>
parseInt(h.max))h.value=h.max;else if(h.min)h.value=h.min;else return;e(h).change()}var q=e.data(this,"numeric.decimal"),r=e.data(this,"numeric.callback"),n=this.value;""!==n?(new RegExp("^\\d+$|^\\d*"+q+"\\d+$")).exec(n)&&this.validity.valid||(f(this),r.apply(this)):(f(this),r.apply(this))};e.fn.ma=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",e.fn.numeric.keypress).unbind("blur",e.fn.numeric.blur)}})(jQuery);var sa=`https://chrome.google.com/webstore/detail/chrono-download-manager/${chrome.runtime.id}`,va=sa+"/reviews";window._gaq=window._gaq||[];window._gaq.push(["_setAccount","UA-32450437-3"],["_setDetectFlash",!1],["_setDetectTitle",!1],["_trackPageview"]);const Lb={ss:300,dz:250,fe_us:150,sf:150,sets:100,stats:50},Mb={sets:5,stats:5},Nb={sets:{F:0,D:0},stats:{F:0,D:0}};
function Qc(e,f,q){const r=Mb.sets;if(r){var n=Nb.sets;if(n){var h=Date.now();864E5<h-(n.D||0)&&(n.D=h,n.F=0);n.F++>=r||(e=["_trackEvent","sets",e,f,q,void 0],r&&(f=Lb[e[1]])&&Math.floor(4E3*Math.random()*r)<f&&(e[1]+=`[${f}][1:${4}]`,e[2]+=`[1:${r}]`,window._gaq.push(e)))}}}
window.addEventListener("load",function(){if(1==window._ga_ssl_with_xhr_chrono_){var e=new XMLHttpRequest;e.open("GET","https://ssl.google-analytics.com/ga.js",!0);e.onreadystatechange=function(){if(4==e.readyState&&200==e.status)try{eval((e.responseText||"").replace("http://www.google-analytics.com","https://ssl.google-analytics.com"))}catch(q){console.log(q)}};e.send()}else{var f=document.createElement("script");f.type="text/javascript";f.async=!0;f.src="https://ssl.google-analytics.com/ga.js";
document.body.appendChild(f)}});var Rc=localStorage;function rd(){function e(f,q){f="i18n-"+f;for(var r=document.querySelectorAll("["+f+"]"),n=0;n<r.length;++n){var h=Y(r[n].attributes[f].value);r[n][q]=h;r[n].removeAttribute(f)}}e("text","innerText");e("title","title");e("href","href");e("placeholder","placeholder");(function(f,q){f="i18n-"+f;for(var r=document.querySelectorAll("["+f+"]"),n=0;n<r.length;++n){var h=Y(r[n].attributes[f].value);r[n].setAttribute(q,h);r[n].removeAttribute(f)}})("tooltip","data-tooltip");(function(f,q){f="i18n-"+f;for(var r=
document.querySelectorAll("["+f+"]"),n=0;n<r.length;++n){var h=r[n].attributes[f].value.split(","),d=h[0];h.shift();h=Y(d,h);r[n][q]=h;r[n].removeAttribute(f)}})("textparams","innerText");"undefined"!=typeof sd&&td()}
function td(){var e=sd.get("font_size");document.documentElement.classList.contains("fs-none")||(document.documentElement.style.fontSize&&document.documentElement.classList.remove("fs-"+document.documentElement.style.fontSize),document.documentElement.style.fontSize=e+"px",document.documentElement.classList.add("fs-"+e+"px"))};function ud(){document.oncontextmenu=function(e){var f=e.target.nodeName.toLowerCase(),q=e.target.type&&e.target.type.toLowerCase();if(!e.target.classList.contains("allow-ctx-menu")&&(e.target.disabled||"textarea"!=f&&("input"!=f||"text"!=q&&"number"!=q)))return!1}};const vd=["",[String.fromCharCode(103),String.fromCharCode(108),String.fromCharCode(99)].join(""),"1_"].join("_");function wd(){var e=void 0;var f=Rc[vd+"fe_us"];if(void 0!=f)try{e=JSON.parse(atob(f[1]+f.substr(3)))}catch(q){}f=Date.now();return!e||!e._t||isNaN(e._t)||!isFinite(e._t)||6048E5<f-e._t?{_t:f}:e}
function xd(){var e=e||1;var f=wd(),q=function(r){return btoa(r.split("").map(n=>{var h=n.charCodeAt(0),d=0;"_"!=n&&(d=60<h?-55:53);return String.fromCharCode(h+d)}).join(""))}("help")+"";f[q]=(f[q]||0)+e;(function(r,n){n=btoa(JSON.stringify(n));Rc[vd+r]=String.fromCharCode(97+Math.floor(26*Math.random()))+n[0]+String.fromCharCode(97+Math.floor(26*Math.random()))+n.substr(1)})("fe_us",f)};function yd(){var e=$(".share_buttons");function f(r,n,h,d,y,F){F?$.get(F,function(){f(h,d,y)}):$.get(h,function(){r.find("."+n).html('<iframe allowTransparency="true" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:'+d+"px; height:"+y+'px;" src="'+h+'"></iframe>')}).error(function(){})}var q='<span style="padding-right:18px">\t\t\t<a href="'+va+'" target="_blank">\t\t\t<img style="vertical-align:bottom" width=21 height=21 alt="Rate" src="../icons/cws.png"/>\t\t\t<span>'+
Y("btnRate")+'</span>\t\t\t</a>\t\t</span><span class="fb_span"></span>\t\t<span class="gp_span"></span>\t\t<span class="tw_span"></span>\t\t<span class="lkin_span"></span>\t\t<span class="pin_span"></span>\t\t<span class="rd_span"></span>\t\t<span class="stupon_span"></span>\t\t<span class="del_span"></span>\t\t<span class="tblr_span"></span>\t\t<span class="cn_span"></span>';e.each(function(){var r=$(this);r.html(q);if("zh-CN"!=Y("uilang")){f(r,"fb_span","https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2Fchrono-download-manager%2Fmciiogijehkdemklbdcbfkefimifhecn&width=130&layout=button_count&action=like&show_faces=false&share=true&height=21",
142,21);var n=`https://platform.twitter.com/widgets/tweet_button.html?text=${encodeURIComponent("Try out the best download manager for Chrome! "+sa)}&url=${encodeURIComponent("https://www.chronodownloader.net")}&counturl=${encodeURIComponent(sa)}&hashtags=${encodeURIComponent("downloadmanager,downloader,chrome,chromeextensions")}`;f(r,"tw_span",n,63,20);f(r,"pin_span","http://www.chronodownloader.net/pinit.html",100,21);r=`https://www.reddit.com/r/chrome/submit?title=${encodeURIComponent("Try out the best download manager for Chrome!")}&selftext=true&text=${encodeURIComponent("All-in-one download manager, video downloader and image downloader for Chrome. Get it on Chrome Web Store: "+
sa)}&flair_text=Extension`;document.querySelector(".rd_span").innerHTML=`<a target=_blank href='${r}'><img src='../icons/reddit.png' height=21/></a>`}})};var Y=chrome.i18n.getMessage,zd=chrome.extension.getBackgroundPage(),Ad=zd.dy_bkg,sd=zd.dy_settings,Bd=zd.dy_rules;
$(function(){$("#help_holder").load(Y("helpFile"),function(){$("#about_holder").load(Y("aboutFile"),function(){function e(u,z){var N=sd.getCat(u),K=N.name;z=$("#dy_"+u+" "+(z||".content"));$("#dy_"+u+" header").html("<h1>"+K+"</h1>");$(".menu a[href=#"+u+"]").text(K);u="";K=[];for(var R=0,U=N.sections.length;R<U;++R){var B=N.sections[R];u+="<section"+(B.id?' id="'+B.id+'">':">");B.name&&(u+="<h3>"+B.name,B.tip&&(u+='<span class="simptip-position-top" data-tooltip="'+B.tip+'"></span>'),u+="</h3>");
B.description&&(u+="<div>"+B.description+"</div>");for(var D=0,H=B.items.length;D<H;++D){var w=B.items[D],C=sd.getRaw(w);if(!C.native_only){var fa="";C.tip&&(fa=C.tipURL?'<a class="simptip-position-top" data-tooltip="'+C.tip+'" target=_blank href="'+C.tipURL+'"></a>':'<span class="simptip-position-top" data-tooltip="'+C.tip+'"></span>');switch(C.type){case "button":fa="<button"+(C.onclick?' id="optbtn_'+w+'"':"")+">"+C.buttonText+"</button>";u+="<div>"+(C.label?'<label>\t\t\t\t\t\t\t\t<span class="field_label">'+
C.label+"</span>"+fa+"</label>":fa)+(C.R?"<span>"+C.R+"</span>":"")+"<div>";C.onclick&&K.push(w);break;case "bool":u+='<div class="checkbox">\t\t\t\t\t\t\t<label>\t\t\t\t\t\t\t\t<input id="'+w+'"'+(1==C.value?' checked="checked"':"")+' type="checkbox">\t\t\t\t\t\t\t\t<span style="margin-left:5px">'+C.label+"</span>\t\t\t\t\t\t\t</label>"+fa+"</div>";break;case "string":u+='<div>\t\t\t\t\t\t<label>\t\t\t\t\t\t\t<span class="field_label">'+C.label+fa+'</span>\t\t\t\t\t\t\t<input id="'+w+'" value="'+
C.value+'"'+(C.placeholder?' placeholder="'+C.placeholder+'"':"")+' type="text">\t\t\t\t\t\t</label>\t\t\t\t\t\t</div>';break;case "int":u+='<div>\t\t\t\t\t\t<label>\t\t\t\t\t\t\t<span class="field_label">'+C.label+fa+'</span>\t\t\t\t\t\t\t<input id="'+w+'" min="'+C.min+'" max="'+C.max+'" value="'+C.value+'" type="number" >\t\t\t\t\t\t</label>\t\t\t\t\t\t<span>('+C.min+"-"+C.max+")</span>\t\t\t\t\t\t</div>";break;case "select":u+='<div><label><span class="field_label">'+C.label+fa+'</span>\t\t\t\t\t\t<select id="'+
w+'">';for(w=0;w<C.options.length;++w)u=Array.isArray(C.options[w])?u+("<option value="+C.options[w][1]+">"+C.options[w][0]+"</option>"):u+("<option>"+C.options[w]+"</option>");u+="</select></label></div>"}}}u+="</section>"}$(z).append(u);$(z).find("section").each(function(){var Ha=-1;$(this).find(".field_label").each(function(){var Xa=$(this).width();Xa>Ha&&(Ha=Xa)});$(this).find(".field_label").css("width",Ha+5)});for(R=0;R<K.length;++R)w=K[R],$("#optbtn_"+w).click(sd.getRaw(w).onclick)}function f(u,
z,N){return'<div class="'+(N?"cell_active":"cell_inactive")+'"><img src="../icons/tick.png"/></div>'}function q(u,z,N){u.setSelectionModel(new Slick.RowSelectionModel);var K=new Slick.RowMoveManager({cancelEditOnDrag:!0});K.onBeforeMoveRows.subscribe(function(R,U){var B=U.rows;U=U.insertBefore;for(var D=0;D<B.length;D++)if(B[D]==U||B[D]==U-1)return R.stopPropagation(),!1;return!0});K.onMoveRows.subscribe(function(R,U){var B=[];R=U.rows;var D=U.insertBefore;R.sort(function(C,fa){return C-fa});for(U=
0;U<R.length;U++)B.push(z[R[U]]);R.reverse();var H=z.splice(D,z.length);for(U=0;U<R.length;U++){var w=R[U];w<D?z.splice(w,1):H.splice(w-D,1)}D=z.length;z.push.apply(z,B.concat(H));N();B=[];for(U=0;U<R.length;U++)B.push(D+U);u.setSelectedRows(B);u.invalidateAllRows();u.render()});u.registerPlugin(K)}function r(u,z){return z-u}function n(){var u=(window.location.hash||"#general").split(".",2);$(".menu a[href="+u[0]+"]").click();u[1]&&($("#"+u[1]).addClass("section-highlighted"),"help"==u[1]&&xd())}
chrome.runtime.onMessage.addListener(function(u){switch(u.cmd){case "u_font_size":$("#font_size").blur()}});$.fn.ra=function(){var u=$(this).children(),z=$('<span style="display: inline-block;" />');u.wrap(z);z=u.parent().width();u.unwrap();return z};var h=1,d=[{id:h++,name:Y("phraseEnable"),field:"filter_links",toolTip:Y("tipExtFilterEnable"),editor:Slick.Editors.Checkbox,formatter:f,sortable:!0,behavior:"selectAndMove",cannotTriggerInsert:!0},{id:h++,name:Y("headExtFilterCaption"),field:"caption",
editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:150},{id:h++,name:Y("headExtFilterRefName"),field:"int_name",toolTip:Y("tipExtFilterRefName"),editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:150},{id:h++,name:Y("headExtFilterExts"),field:"exts",editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:250}];h=1;h=[{id:h++,name:Y("headRulesActive"),field:"active",toolTip:Y("tipRulesActive"),editor:Slick.Editors.Checkbox,formatter:f,sortable:!1,behavior:"selectAndMove",
cannotTriggerInsert:!0},{id:h++,name:Y("headRulesAsFilter"),field:"as_filter",toolTip:Y("tipRulesAsFilter"),editor:Slick.Editors.Checkbox,formatter:f,sortable:!1,behavior:"selectAndMove",cannotTriggerInsert:!0},{id:h++,name:Y("headRulesCaption"),field:"caption",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110},{id:h++,name:Y("headRulesRefName"),field:"int_name",toolTip:Y("tipRulesRefName"),editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110},{id:h++,name:Y("headRulesCondition"),
field:"condition",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:220},{id:h++,name:Y("fieldNaming"),field:"naming",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110}];window.unload=function(){sd.commit();zd.console.log("settings changes saved")};ud();rd();(function(){$(".menu a").click(function(u){$(".section-highlighted").removeClass("section-highlighted");$(".mainview > *").removeClass("selected");$(".menu li").removeClass("selected");setTimeout(function(){$(".mainview > *:not(.selected)").css("display",
"none")},100);$(u.currentTarget).parent().addClass("selected");u=($(u.currentTarget).attr("href")||"#").replace("#","#dy_");"#dy_about"==u&&0==$(".share_buttons").children().length&&($("#version-number").text(chrome.runtime.getManifest().version),yd());var z=$(u);z.css("display","block");setTimeout(function(){z.addClass("selected")},0);setTimeout(function(){$("body")[0].scrollTop=0},200);sd.commit()})})();e("general");e("interface");e("rules");$("#dy_panic_reset").click(function(){confirm(Y("confirmReset"))&&
($("#dy_panic_reset").prop("disabled",!0),Ad.reset())});(function(){for(var u in sd.items){var z=sd.items[u],N=$("#"+u);switch(z.type){case "bool":N.attr("checked",z.value);N.change(function(){sd.set(this.id,this.checked);Qc(this.id,""+this.checked)});break;case "string":N.val(z.value);N.change(function(){var K=(this.value||"").trim();sd.set(this.id,K);Qc(this.id,K);K!=this.value&&(this.value=K)});break;case "int":N.val(z.value);N.change(function(){var K=parseInt(this.value);sd.set(this.id,K)&&Qc(this.id,
"",K)});break;case "select":Array.isArray(z.options[0])?N.val(z.value):N.val(z.options[z.value]),N.change(function(){var K=parseInt(this.value);if(isNaN(K)||!isFinite(K))K=parseInt(this.selectedIndex);sd.set(this.id,K);Qc(this.id,""+K)})}}})();$("input[type=number]").numeric({decimal:!1,negative:!1});$("#dy_opendy").click(function(){chrome.runtime.sendMessage({cmd:"open_ui"},function(u){u&&window.close()})});var y=Y("translateContributors");y?$("#translation_info").html("This "+Y("uilangName")+" language version is translated by "+
y+("."==y[y.length-1]?"":".")+' Please help us improve <span id="btn_translation_site" style="cursor:pointer">translation<img width=24 height=24 style="vertical-align:text-bottom" src="../icons/language.png"/></span>.'):$("#translation_info").html('Help us with <span id="btn_translation_site" style="cursor:pointer">translation<img width=24 height=24 style="vertical-align:text-bottom" src="../icons/language.png"/></span>!');$("#btn_translation_site").click(function(){chrome.tabs.create({url:"http://translate.chronodownloader.net"})});
$(".simpletable tbody").hide();$(".simpletable thead").click(function(){$(this).next().toggle()});var F=Bd.getLinkFilters(),S=Bd.getRules();var T=new Slick.Grid("#cats_grid",F,d,{enableColumnReorder:!0,enableAddRow:!0,editable:!0,autoEdit:!1});T.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0,enableForCells:!0,maxToolTipLength:256}));var I=new Slick.Grid("#rules_grid",S,h,{enableColumnReorder:!0,enableAddRow:!0,editable:!0,autoEdit:!1});I.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0,
enableForCells:!0,maxToolTipLength:256}));q(T,F,Bd.on_filters_change);q(I,S,Bd.on_rules_change);$("#cats_grid").on("blur","input",function(){setTimeout(function(){var u=T.getEditorLock();u.isActive()&&0==$("#cats_grid :focus").length&&u.commitCurrentEdit()})});$("#rules_grid").on("blur","input",function(){setTimeout(function(){var u=I.getEditorLock();u.isActive()&&0==$("#rules_grid :focus").length&&u.commitCurrentEdit()})});T.onCellChange.subscribe(Bd.on_filters_change);I.onCellChange.subscribe(Bd.on_rules_change);
T.onAddNewRow.subscribe(function(u,z){Bd.addFilter(z.item);T.updateRowCount();T.invalidateRow(F.length-1);T.render()});T.onKeyDown.subscribe(function(u){var z=T.getSelectedRows().slice(0);if(46==u.keyCode&&!T.getEditorLock().isActive()&&0<z.length&&confirm(Y("confirmRemoveExtFilter"))){z.sort(r);for(u=0;u<z.length;++u)F.splice(z[u],1);Bd.on_filters_change();T.setSelectedRows([]);T.invalidate()}});I.onAddNewRow.subscribe(function(u,z){Bd.addRule(z.item);I.updateRowCount();I.invalidateRow(S.length-
1);I.render()});I.onKeyDown.subscribe(function(u){var z=I.getSelectedRows().slice(0);if(46==u.keyCode&&!I.getEditorLock().isActive()&&0<z.length&&confirm(Y("confirmRemoveRule"))){z.sort(r);for(u=0;u<z.length;++u)S.splice(z[u],1);Bd.on_rules_change();I.setSelectedRows([]);I.invalidate()}});T.onSort.subscribe(function(u,z){var N=z.sortCol.field,K=z.sortAsc;F.sort(function(R,U){R=R[N]<U[N]?-1:1;return K?R:-R});Bd.on_filters_change();T.invalidateAllRows();T.render()});I.onSort.subscribe(function(u,z){var N=
z.sortCol.field,K=z.sortAsc;S.sort(function(R,U){R=R[N]<U[N]?-1:1;return K?R:-R});Bd.on_rules_change();I.invalidateAllRows();I.render()});T.enableColumnFit();I.enableColumnFit();window.onhashchange=n;n()})})});
